<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Sapphireâ€˜s Work Hack Blog</title>
  
  <subtitle>Personal notes by Sapphire Lin</subtitle>
  <link href="https://sapphirelin.com/atom.xml" rel="self"/>
  
  <link href="https://sapphirelin.com/"/>
  <updated>2023-02-15T07:47:50.314Z</updated>
  <id>https://sapphirelin.com/</id>
  
  <author>
    <name>Sapphire</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä»€éº¼æ˜¯ç¶²åŸŸè´–å›æœŸï¼Ÿå·®é»ä»˜äº†è²´10å€åƒ¹æ ¼ Î£(ï¾ŸĞ´ï¾Ÿlll)</title>
    <link href="https://sapphirelin.com/20230215-%E4%BB%80%E9%BA%BC%E6%98%AF%E7%B6%B2%E5%9F%9F%E8%B4%96%E5%9B%9E%E6%9C%9F%EF%BC%9F%E5%B7%AE%E9%BB%9E%E4%BB%98%E4%BA%86%E8%B2%B410%E5%80%8D%E5%83%B9%E6%A0%BC-%CE%A3-%EF%BE%9F%D0%B4%EF%BE%9Flll/"/>
    <id>https://sapphirelin.com/20230215-%E4%BB%80%E9%BA%BC%E6%98%AF%E7%B6%B2%E5%9F%9F%E8%B4%96%E5%9B%9E%E6%9C%9F%EF%BC%9F%E5%B7%AE%E9%BB%9E%E4%BB%98%E4%BA%86%E8%B2%B410%E5%80%8D%E5%83%B9%E6%A0%BC-%CE%A3-%EF%BE%9F%D0%B4%EF%BE%9Flll/</id>
    <published>2023-02-15T07:43:18.000Z</published>
    <updated>2023-02-15T07:47:50.314Z</updated>
    
    <content type="html"><![CDATA[<p>å…”å¹´å¿«æ¨‚ï¼ç¶²ç«™çµ‚æ–¼å¾©æ´»å•¦ï½</p><p>è‡ªå¾æˆ‘çš„ä¿¡ç”¨å¡åˆ°æœŸç™¼æ–°å¡å¾Œï¼Œå› ç‚ºè‡ªå·±å¿™åˆ°å¿½ç•¥ï¼Œå°è‡´åŸŸåæ²’æœ‰çºŒç´„æˆåŠŸï¼Œç•¶æˆ‘ç™¼ç¾ä¿¡çš„æ™‚å€™å·²ç¶“æ”¶åˆ°ç”˜åœ°çˆ¸çˆ¸å¯„çš„åˆ°æœŸä¿¡ä»¶â€¦</p><p><img src="https://i.imgur.com/Somp0vp.png"></p><p>èˆ‰æˆ‘çš„ä¾‹å­ä¾†èªªï¼Œå…‰æ£ç¯€åˆ°æœŸçš„æœ¬ç«™ï¼Œè–èª•ç¯€å‰æ²’å»çºŒç´„çš„è©±æœƒé€²å…¥è´–å›æœŸã€‚<br>æ¥è‘—æœä¸å…¶ç„¶æˆ‘é‚„æ˜¯åœ¨è–èª•ç¯€å‰å¿˜äº†çºŒç´„ï¼Œå°±é †åˆ©çš„ç¶“æ­·äº†è´–å›æœŸâ€¦</p><h3 id="ç°¡å–®è§£èªªä¸€ä¸‹ä»€éº¼æ˜¯è´–å›æœŸï¼š"><a href="#ç°¡å–®è§£èªªä¸€ä¸‹ä»€éº¼æ˜¯è´–å›æœŸï¼š" class="headerlink" title="ç°¡å–®è§£èªªä¸€ä¸‹ä»€éº¼æ˜¯è´–å›æœŸï¼š"></a>ç°¡å–®è§£èªªä¸€ä¸‹ä»€éº¼æ˜¯è´–å›æœŸï¼š</h3><p><img src="https://i.imgur.com/ZBGqCrf.jpg"><br>ç¶“æœ¬äººå¯¦æ¸¬ï¼Œè´–å›æœŸæ•´æ•´æ¯”åŸåƒ¹è²´äº†<strong>10å€</strong>â€¦</p><p>å…¶å¯¦ä¹Ÿä¸æ˜¯ç„¡æ³•è² æ“”ï¼Œå°±æ˜¯å°è³‡æ—<strong>ç„¡æ³•å¿å—</strong>10å€è²´çš„åƒ¹æ ¼ã€‚åæ­£ä¹Ÿéƒ½åœ¨å¿™ï¼Œä¹Ÿæƒ³é«”é©—çœ‹çœ‹ç¶²åŸŸéæœŸçš„æ•´å€‹æµç¨‹ã€‚å› æ­¤è¨­å®šè¡Œäº‹æ›†æ±ºå®šè´–å›æœŸéäº†å†æŠŠä»–é€™å€‹åŸŸåè²·å›ä¾†ï¼Œå¦‚æœè¢«åˆ¥äººè²·èµ°ä¹Ÿè¡¨ç¤ºæˆ‘ç´…äº†ï¼Ÿä¹Ÿç®—ä¸€æ¬¡ç¥ç§˜åœ°è‰¯å¥½ç¶“é©— XD</p><p>å¯¦æ¸¬éå¾Œå¤§æ¦‚åœ¨å…¬å‘Šçš„ 1/25 ä¸­é–“æœ‰ä¸€å€‹ç¦®æ‹œé‚„æ˜¯æ²’è¾¦æ³•è²·åˆ°ï¼Œé‚£æ®µæ™‚é–“å…¶å¯¦é‚„æ˜¯æœ‰é»ç·Šå¼µçš„åƒåœ¨åˆ·æ¼”å”±æœƒç¥¨ä¸€æ¨£ç„¡æ™‚ç„¡åˆ»åˆ·ä¸€ä¸‹å¯ä»¥è²·äº†æ²’ï¼Œ<del>ä¹Ÿæœƒç”¨whoisçœ‹æœ‰æ²’æœ‰è¢«è²·èµ°å“ˆå“ˆå“ˆå¾Œ</del>ã€‚<br>å› æ­¤æœ¬ç«™å¤§æ¦‚æœ‰åŠå¹´çš„æ™‚é–“æ¶ˆå¤±åœ¨äººä¸–é–“â€¦ åˆ°ç¾åœ¨çµ‚æ–¼é‡è¿”ç¶²éš›ç¶²è·¯ï¼Œå¯å–œå¯è³€å¯å–œå¯è³€ã€‚</p><p>æˆ‘é‚„æ´»è‘—ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å…”å¹´å¿«æ¨‚ï¼ç¶²ç«™çµ‚æ–¼å¾©æ´»å•¦ï½&lt;/p&gt;
&lt;p&gt;è‡ªå¾æˆ‘çš„ä¿¡ç”¨å¡åˆ°æœŸç™¼æ–°å¡å¾Œï¼Œå› ç‚ºè‡ªå·±å¿™åˆ°å¿½ç•¥ï¼Œå°è‡´åŸŸåæ²’æœ‰çºŒç´„æˆåŠŸï¼Œç•¶æˆ‘ç™¼ç¾ä¿¡çš„æ™‚å€™å·²ç¶“æ”¶åˆ°ç”˜åœ°çˆ¸çˆ¸å¯„çš„åˆ°æœŸä¿¡ä»¶â€¦&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/Somp0vp.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;</summary>
      
    
    
    
    <category term="life hack" scheme="https://sapphirelin.com/categories/life-hack/"/>
    
    <category term="æ¶ç«™ç´€éŒ„" scheme="https://sapphirelin.com/categories/life-hack/%E6%9E%B6%E7%AB%99%E7%B4%80%E9%8C%84/"/>
    
    
    <category term="domain redemption period" scheme="https://sapphirelin.com/tags/domain-redemption-period/"/>
    
    <category term="domain" scheme="https://sapphirelin.com/tags/domain/"/>
    
    <category term="url" scheme="https://sapphirelin.com/tags/url/"/>
    
    <category term="blog" scheme="https://sapphirelin.com/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>æ•´åˆ Google Workspace èˆ‡ VMware Workspace ONE Access SSO</title>
    <link href="https://sapphirelin.com/20230105-%E6%95%B4%E5%90%88-Google-Workspace-%E8%88%87-VMware-Workspace-ONE-Access-SSO/"/>
    <id>https://sapphirelin.com/20230105-%E6%95%B4%E5%90%88-Google-Workspace-%E8%88%87-VMware-Workspace-ONE-Access-SSO/</id>
    <published>2023-01-05T08:02:07.000Z</published>
    <updated>2023-02-15T08:33:21.964Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‘å¹´ä¾†è¶Šä¾†è¶Šå¤šå®¢æˆ¶éƒ½ç”¨ Google å®¶çš„ Google Workspace ä¾†åšä¼æ¥­çµ„ç¹”ç®¡ç†ï¼Œç•¢ç«Ÿ Google Drive å…¬èªçš„å¥½ç”¨ï¼Œ Gsuite æ‹¿ä¾†çµ±æ•´å…¬å¸é€™äº›ç”Ÿç”¢åŠ›å·¥å…·ä¸‹æ”¾æ¬Šé™ä¹Ÿæ˜¯ä¸éŒ¯å¥½ç”¨ã€‚</p><p>è€Œ VMware åœ¨çµ‚ç«¯è£ç½®ç®¡ç†ç›¸é—œçš„è§£æ±ºæ–¹æ¡ˆ - Workspace ONE è·Ÿçµ„ç¹”ç®¡ç†ç›¸é—œçš„å¸³è™Ÿä¾†é€²è¡Œä¸²æ¥æœƒç›¸ç•¶æ–¹ä¾¿ï¼Œå¸³è™Ÿä¸²é€² Workspace ONE Access å¾Œå°±èƒ½åŸºæ–¼ç¾æ­£ä½¿ç”¨è£ç½®çš„å‹è™Ÿå•Šä¾‹å¦‚å…¬å¸ç­†é›»æœ‰ç­†é›»çš„è¦ç¯„ã€æ‰‹æ©Ÿæœ‰å…¬å¸è¡Œå‹•è£ç½®çš„è¦ç¯„ï¼Œæœ‰æ²’æœ‰ç”¨ VPN æ˜¯å¦ç”¨ç€è¦½å™¨é–‹ç­‰ç­‰ï¼Œé€™äº›é€é Workspace ONE èƒ½å¤ è¨­å®šçš„ç´°ç¯€ Complianceã€‚<br>å‚³çµ±æ•´åˆ AD/LDAP ç¶²è·¯ä¸Šå¾ˆå¤šæ–‡ç« äº†ï¼Œç›¸é—œ SSO çš„ä¸²æ¥ä¹Ÿå¾ˆé †ï½<br>ä»Šå¤©ä¾†ä¸²æŸå€‹å®¢æˆ¶æƒ³è¦æ•´çš„ Google Workspace SSOï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹è¦æ€éº¼åšï¼š</p><h3 id="æ³¨æ„äº‹é …"><a href="#æ³¨æ„äº‹é …" class="headerlink" title="æ³¨æ„äº‹é …"></a>æ³¨æ„äº‹é …</h3><ol><li>Gsuite æœ¬èº«æ²’æœ‰ Org. unit çš„åˆ†åˆ¥ï¼Œæ„æ€å°±æ˜¯å¦‚æœè¦é–‹å•Ÿ SSO æ˜¯æ•´åº§ Gsuite domain éƒ½æœƒé–‹å•Ÿï¼Œæ²’è¾¦æ³•åˆ† BU ä¾†å•Ÿç”¨ã€‚</li><li>Gsuite é–‹å•Ÿ SSO å¾Œï¼Œå› ç‚ºå°±æœƒç›´æ¥è·³å» Workspace ONE Access å»åšæ¬Šé™èªè­‰è™•ç†ï¼Œæ‰€ä»¥è‹¥åŸæœ¬æœ‰å•Ÿç”¨ Google Authenticator ä¾†åš 2FA é€™åŠŸèƒ½æœƒå¤±æ•ˆã€‚å¦‚æœå…¬å¸è¦å®šä¸€å®šè¦åšé›™å› ç´ èªè­‰çš„è©±ï¼Œå°±è¦è¨˜å¾—åœ¨ Workspace ONE ä¸Šè¼‰é–‹å•Ÿ MFA å¤šå› ç´ èªè­‰ï¼Œé€™æ™‚å€™ä¸€æ¨£å¯ä»¥ä¸² Google Authenticator æˆ–ç”šè‡³æ˜¯ Microsoft Authenticator, Okta Verify ç­‰ç­‰ã€‚</li><li>Gsuite çš„ Super Admins æœƒ bypass æ‰€æœ‰ SSOï¼Œå›ºå®šä½¿ç”¨ Google ç•«é¢ç™»å…¥ï¼Œæ‰€ä»¥è¨˜å¾—æ¸¬è©¦å¸³è™Ÿä¸èƒ½ç”¨è¶…ç´šå¸³è™Ÿï¼Œä¸éä¸ç”¨æ“”å¿ƒä¸²å®Œæœƒå®Œå…¨ç„¡æ³•ç™»å…¥ Google Suiteã€‚</li></ol><h2 id="é–‹å§‹ä¸²æ¥-Workspace-ONE-Access"><a href="#é–‹å§‹ä¸²æ¥-Workspace-ONE-Access" class="headerlink" title="/ é–‹å§‹ä¸²æ¥ - Workspace ONE Access /"></a>/ é–‹å§‹ä¸²æ¥ - Workspace ONE Access /</h2><p>æˆ‘çš„ç’°å¢ƒæ˜¯ <a href="https://td-lyahsuan-64f2a.vidmpreview.com/">Workspace ONE Access SaaS</a> ï¼Œè¨˜å¾—å…ˆå‰µç«‹ä¸€å€‹æ¸¬è©¦å¸³è™Ÿï¼Œæœ¬æ–‡çš„æ¸¬è©¦å¸³è™Ÿæš«æ™‚å« <code>sapphireGD@test.com</code>ï¼š<br>ä»¥ä¸‹åšæ³•æ˜¯è®“ç™»å…¥ WS1 User èƒ½å¤ </p><ol><li>ä»¥ Admin User (TA) ç™»å…¥ Workspace ONE Access<br><img src="https://i.imgur.com/Hl9tCCP.png"><br><img src="https://i.imgur.com/VBTS0Xw.png"></li><li>é»é¸ Resources &gt; New æœƒè·³å‡º New SaaS Application è¦–çª—<br><img src="https://i.imgur.com/BNlycHF.png"></li><li>Definition é€™åˆ†é ï¼Œåœ¨ Search éƒ¨åˆ†è¼¸å…¥ Google é¸æ“‡ Google Appsï¼Œä¸‹é¢ä»–å°±æœƒè‡ªå‹•ä»£å…¥äº†<br><img src="https://i.imgur.com/hkdOShB.png"></li><li>Configuration é€™åˆ†é ï¼ŒSingle Sign-On é€™é ä¹Ÿéƒ½è‡ªå‹•ä»£å…¥äº†åƒæ•¸ï¼Œé è¨­æ˜¯ Gmail é é¢ï¼Œä¿æŒä¸è®Šçš„ Manualé¸é …ï¼Œæ‹‰åˆ°æœ€ä¸‹åœ¨ Application Parameters &gt; Value éƒ¨åˆ†å¡«å…¥ Gsuite domain å³å¯<br><img src="https://i.imgur.com/Lvn43er.png"></li><li>Access Policies æˆ‘é¸æˆ‘ default<br><img src="https://i.imgur.com/8PFy8wh.png"></li><li>æ¥ä¸‹ä¾†å°±çœ‹ Summaryï¼Œæ²’å•é¡Œæˆ‘å€‘æ¡ˆ Save &amp; Assign<br><img src="https://i.imgur.com/SeLrcer.png"></li><li>æ¥è‘—å®ƒæœƒè·³å‡º Assign è¦–çª—ï¼Œç”±æ–¼æˆ‘åªè¦ç”¨ä¸€å€‹å¸³è™Ÿä¾†æ¸¬è©¦ Gsuite SSOï¼Œæˆ‘å°±é¸æˆ‘å–®ç¨çš„é‚£å€‹ Userï¼Œå…¬å¸å¦‚æœè¦å¥—ç”¨çš„è©±è¨˜å¾—é¸æ“‡ ALL USERSï¼ŒDeployment Type    èª¿æ•´æˆè‡ªå‹• Automaticã€‚<br><img src="https://i.imgur.com/P9UcbF8.png"></li><li>å›åˆ° Web Apps å°±æœƒçœ‹åˆ° Google Apps çš„å‡ºç¾ï¼Œåœ¨ Workspace ONE é€™é‚Šå‰ç½®ä½œæ¥­å°±å®Œæˆå•¦ï¼Œä¸éé€™é å…ˆåˆ¥é—œï¼Œæˆ‘å€‘ç•™åœ¨é€™æº–å‚™ç­‰ç­‰ Gsuite è¦çš„æ†‘è­‰ã€‚<br><img src="https://i.imgur.com/HKMLPfA.png"></li><li>é–‹æ–°è¦–çª—ä½¿ç”¨æ¸¬è©¦å¸³è™Ÿç™»å…¥ Intelligence Hub å°±æœƒå‡ºç¾ Google Apps å•¦ï¼Œé»é€²å»ä¹Ÿé †åˆ©å°å‘äº† Gmailã€‚<br><img src="https://i.imgur.com/177bD8M.png"></li></ol><h2 id="æ•´åˆ-Gsuite-Admin-Portal"><a href="#æ•´åˆ-Gsuite-Admin-Portal" class="headerlink" title="/ æ•´åˆ Gsuite Admin Portal /"></a>/ æ•´åˆ Gsuite Admin Portal /</h2><ol><li>å›åˆ°å‰›å‰›çš„ Resources &gt; Web Apps é€™é‚Šæˆ‘å€‘é»é¸ SETTINGSï¼Œæœƒè·³å‡ºè¦–çª—<br><img src="https://i.imgur.com/7P5nQB6.png"></li><li>é¸ SAML Metadata å°±æœƒçœ‹åˆ°æˆ‘å€‘æ•´åˆçš„æ†‘è­‰ï¼Œé» Download ä¸‹è¼‰ä¸‹ä¾†ä¸€å€‹ã€ŒsigningCertificate.cerã€æª”æ¡ˆã€‚<br><img src="https://i.imgur.com/KZxDKxa.png"></li><li>æ¥è‘—æˆ‘å€‘ä¾†åˆ° <a href="https://admin.google.com/">G Suite Admin Portal</a>ï¼Œä½¿ç”¨ Admin ç™»å…¥ï¼Œ é»é¸ã€Œå®‰å…¨æ€§ã€<br><img src="https://i.imgur.com/roCjPsc.png"></li><li>æ‹‰åˆ°æœ€ä¸‹é¢é¸æ“‡ã€Œä½¿ç”¨ç¬¬ä¸‰æ–¹è­˜åˆ¥è³‡è¨Šæä¾›è€… (IDP) çš„å–®ä¸€ç™»å…¥ (SSO) æœå‹™ã€<br><img src="https://i.imgur.com/mIwCWAj.png"></li><li>æ¥è‘—é»æ“Šã€Œæ–°å¢SSOè¨­å®šæª”ã€å¡«å…¥ä»¥ä¸‹è³‡æ–™ï¼š<blockquote><p>ç™»å…¥ç¶²é ç¶²å€ï¼š<a href="https://yourworkspaceoneaccesstenant/SAAS/auth/federation/sso">https://YOURWORKSPACEONEACCESSTENANT/SAAS/auth/federation/sso</a><br>e.g. <a href="https://td-lyahsuan-64f2a.vidmpreview.com/SAAS/auth/federation/sso">https://td-lyahsuan-64f2a.vidmpreview.com/SAAS/auth/federation/sso</a><br>ç™»å‡ºç¶²é ç¶²å€ï¼š<a href="https://yourworkspaceoneaccesstenant/SAAS/auth/logout">https://YOURWORKSPACEONEACCESSTENANT/SAAS/auth/logout</a><br>e.g. <a href="https://td-lyahsuan-64f2a.vidmpreview.com/SAAS/auth/logout">https://td-lyahsuan-64f2a.vidmpreview.com/SAAS/auth/logout</a></p></blockquote></li></ol><p>é©—è­‰æ†‘è­‰ï¼šä¸Šå‚³åœ¨ Workspace ONE Access ä¸‹è¼‰çš„ ã€ŒsigningCertificate.cerã€<br>æœ€å¾Œæ‰“å‹¾ã€Œé€éç¬¬ä¸‰æ–¹è­˜åˆ¥è³‡è¨Šæä¾›è€…è¨­å®š SSOã€<br><img src="https://i.imgur.com/NGipmBz.png"></p><ol start="6"><li>å®Œæˆå•¦ï¼æ¥è‘—ç™»å‡ºçœ‹çœ‹<br><img src="https://i.imgur.com/cUlR4r9.png"></li><li>Google ç™»å‡ºå¾Œä¹Ÿé †åˆ©è·³è½‰è‡³ Workspace ONE Accesså“©<br><img src="https://i.imgur.com/B197u1k.png"></li><li>é¸æ“‡æ¸¬è©¦å¸³è™Ÿä¸¦ç™»å…¥<br><img src="https://i.imgur.com/bKQzD6C.png"><br><img src="https://i.imgur.com/dIYPgIO.png"></li><li>æˆåŠŸè·³è½‰ï¼ï¼ˆå½±ç‰‡ä½¿ç”¨ <a href="mailto:&#x68;&#101;&#x6c;&#108;&#x6f;&#64;&#x67;&#120;&#x78;&#120;&#x64;&#x65;&#115;&#x69;&#x67;&#110;&#46;&#99;&#x6f;&#x6d;">&#x68;&#101;&#x6c;&#108;&#x6f;&#64;&#x67;&#120;&#x78;&#120;&#x64;&#x65;&#115;&#x69;&#x67;&#110;&#46;&#99;&#x6f;&#x6d;</a> æ›¿æ› <a href="mailto:&#x73;&#x61;&#x70;&#x70;&#104;&#x69;&#x72;&#101;&#71;&#68;&#x40;&#116;&#x65;&#x73;&#116;&#46;&#99;&#x6f;&#x6d;">&#x73;&#x61;&#x70;&#x70;&#104;&#x69;&#x72;&#101;&#71;&#68;&#x40;&#116;&#x65;&#x73;&#116;&#46;&#99;&#x6f;&#x6d;</a>ï¼‰<div class="video-container"><iframe src="https://www.youtube.com/embed/kGw_W24GZYE" frameborder="0" loading="lazy" allowfullscreen></iframe></div></li></ol><p>Reference:</p><ul><li><a href="https://support.google.com/a/answer/6262987?hl=zh-Hant">Google WorkspaceSAML å¼å–®ä¸€ç™»å…¥ (SSO)ï¼šæŠ€è¡“ç¸½è¦½</a></li><li><a href="https://eucmasters.in/how-to-integrate-g-suite-with-workspace-one-access/">How To Integrate Google Workspace &amp; VMware Workspace One Access for SSO</a></li><li><a href="https://kb.vmware.com/s/article/88424">Workspace ONE Access multi-factor authentication features/custom integrations</a></li><li><a href="https://www.evengooder.com/2020/12/vmwares-workspace-one-4-gsuite.html">A Quick And Easy Win Along The Path To Zero Trust: Workspace ONEâ€™s Certificate Authentication For Windows 10 And macOS</a></li><li><a href="https://docs.vmware.com/en/VMware-Workspace-ONE-UEM/services/WS1_Gmail_Integration.pdf">Google Sync Integration Guide</a></li><li><a href="http://blog.tbwfdu.com/2019/09/using-google-cloud-identity-secure-ldap.html">Using Google Cloud Identity Secure LDAP with Workspace ONE</a></li><li><a href="https://support.google.com/a/topic/9173976?hl=en&ref_topic=9048334">Add and connect new LDAP clients</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¿‘å¹´ä¾†è¶Šä¾†è¶Šå¤šå®¢æˆ¶éƒ½ç”¨ Google å®¶çš„ Google Workspace ä¾†åšä¼æ¥­çµ„ç¹”ç®¡ç†ï¼Œç•¢ç«Ÿ Google Drive å…¬èªçš„å¥½ç”¨ï¼Œ Gsuite æ‹¿ä¾†çµ±æ•´å…¬å¸é€™äº›ç”Ÿç”¢åŠ›å·¥å…·ä¸‹æ”¾æ¬Šé™ä¹Ÿæ˜¯ä¸éŒ¯å¥½ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è€Œ VMware åœ¨çµ‚ç«¯è£ç½®ç®¡ç†ç›¸é—œçš„è§£æ±ºæ–¹æ¡ˆ - W</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="å–®ä¸€ç™»å…¥ SSO" scheme="https://sapphirelin.com/categories/work-hack/%E5%96%AE%E4%B8%80%E7%99%BB%E5%85%A5-SSO/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="UEM" scheme="https://sapphirelin.com/tags/UEM/"/>
    
    <category term="SSO" scheme="https://sapphirelin.com/tags/SSO/"/>
    
    <category term="Workspace One" scheme="https://sapphirelin.com/tags/Workspace-One/"/>
    
    <category term="AirWatch" scheme="https://sapphirelin.com/tags/AirWatch/"/>
    
  </entry>
  
  <entry>
    <title>ç°¡å–®ç©ç©çœ‹ VMware Application Catalog ï¼ˆä»¥å‰å« Tanzu Application Catalogï¼‰</title>
    <link href="https://sapphirelin.com/20220308-%E7%B0%A1%E5%96%AE%E7%8E%A9%E7%8E%A9%E7%9C%8B-VMware-Application-Catalog-%EF%BC%88%E4%BB%A5%E5%89%8D%E5%8F%AB-Tanzu-Application-Catalog%EF%BC%89/"/>
    <id>https://sapphirelin.com/20220308-%E7%B0%A1%E5%96%AE%E7%8E%A9%E7%8E%A9%E7%9C%8B-VMware-Application-Catalog-%EF%BC%88%E4%BB%A5%E5%89%8D%E5%8F%AB-Tanzu-Application-Catalog%EF%BC%89/</id>
    <published>2022-03-08T11:46:32.000Z</published>
    <updated>2022-03-08T12:23:23.241Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°±æ˜¯ç©ç©çœ‹ï¼š<br><a href="https://docs.vmware.com/en/VMware-Tanzu-Application-Catalog/services/tac-docs/GUID-get-started-get-started-tanzu-application-catalog.html">https://docs.vmware.com/en/VMware-Tanzu-Application-Catalog/services/tac-docs/GUID-get-started-get-started-tanzu-application-catalog.html</a></p><p>ç›¸ä¿¡å¾ˆå¤šäººä¸å¤ªæ¸…æ¥šé€™å€‹æ˜¯ä»€éº¼ï¼Œèƒ½ç”¨åœ¨å“ªè£¡ï¼Ÿå¾Œé¢æœƒæœ‰ç°¡å–®è§£é‡‹èªªæ˜ä»¥åŠè®“å¤§å®¶ä¾†çœ‹çœ‹é€™å€‹å¹³å°çš„åŸºæœ¬æ“ä½œã€‚</p><h2 id="ä»€éº¼æ˜¯-VAC-TAC"><a href="#ä»€éº¼æ˜¯-VAC-TAC" class="headerlink" title="/ ä»€éº¼æ˜¯ VAC(TAC) /"></a>/ ä»€éº¼æ˜¯ VAC(TAC) /</h2><p>VMware æ‡‰ç”¨ç¨‹åºç›®éŒ„ (VAC) æ˜¯ä¾†è‡ª Bitnami é›†åˆçš„å¯è‡ªå®šç¾©é¸æ“‡çš„é–‹æºè»Ÿä»¶ï¼Œè©²è»Ÿä»¶æŒçºŒç¶­è­·ä¸¦ç¶“éé©—è­‰æ¸¬è©¦ï¼Œå¯åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­ä½¿ç”¨ã€‚ VMware Application Catalog ç‚ºé–‹ç™¼äººå“¡æä¾›äº†é æ‰“åŒ…çš„è‡ªåŠ©æ‡‰ç”¨ç¨‹åºå’Œçµ„ä»¶çš„ç”Ÿç”¢åŠ›å’Œæ•æ·æ€§ï¼ŒåŒæ™‚ä½¿é‹ç‡Ÿå•†èƒ½å¤ æ»¿è¶³ä¼æ¥­ IT åš´æ ¼çš„å®‰å…¨æ€§å’Œé€æ˜åº¦è¦æ±‚ã€‚</p><p>ç°¡å–®ä¾†èªªå°±æ˜¯ä½ å¯ä»¥ç”¨å®ƒä¾†ç®¡ç†ä½ è‡ªå·±çš„  base image æˆ–æ˜¯ç¾åœ¨æ´»åœ¨ VMware Bitnami team åœ¨ç¶­è­·çš„é‚£äº› open source<br>æœ€å¾Œçš„å‘ˆç¾å¯ä»¥æ˜¯å–®ç¨çš„ containers æˆ–ä¸€çµ„ Helm charts<br><img src="https://i.imgur.com/hwIFjob.png"></p><p>ç›®å‰ä¾†èªªï¼ˆ2022å¹´3æœˆï¼‰ç›¸é—œ artifacts çš„ç™¼ä½ˆéƒ½æ˜¯ä¸Ÿåœ¨ Google Container Registry (GCR) ï¼Œè¦ä½¿ç”¨çš„è©±ç•¶ç„¶å°±æ˜¯ä¸‹è¼‰åˆ°è‡ªå·± OCI-compliant çš„æ˜ åƒå€‰åº«ä¾†ä½¿ç”¨äº†ï¼Œå¦‚ Docker Hub, Harbor, Artifactoryã€‚<br>ä¸ç”¨å¤šèªªï¼Œä¼æ¥­ä½¿ç”¨ä¸€å¾‹å»ºè­°æ˜¯éƒ½å»ºä¸€å€‹ç§æœ‰å€‰åº«å¦‚ Harbor ï¼Œä¸¦ä¸”æ”¾åœ¨é˜²ç«ç‰†è£¡é¢ã€‚</p><h2 id="åŸºæœ¬æ“ä½œ-amp-å¸¸ç”¨åŠŸèƒ½"><a href="#åŸºæœ¬æ“ä½œ-amp-å¸¸ç”¨åŠŸèƒ½" class="headerlink" title="/ åŸºæœ¬æ“ä½œ &amp; å¸¸ç”¨åŠŸèƒ½ /"></a>/ åŸºæœ¬æ“ä½œ &amp; å¸¸ç”¨åŠŸèƒ½ /</h2><h3 id="1-ç™»å…¥TAC"><a href="#1-ç™»å…¥TAC" class="headerlink" title="1. ç™»å…¥TAC"></a>1. ç™»å…¥TAC</h3><p>Portal ç¶²å€ï¼š<a href="https://tac.bitnami.com/">https://tac.bitnami.com/</a><br>ï¼ˆæœƒè®“ä½ ä½¿ç”¨ VMware çš„ Cloud Service Account ä¾†ç™»å…¥ aka åˆ©ç”¨ MyVMware ç™»å…¥çš„å¦ä¸€å¹³å°ï¼‰<br><img src="https://i.imgur.com/k0iwpZ7.png"></p><h3 id="2-å„€è¡¨æ¿æŸ¥çœ‹"><a href="#2-å„€è¡¨æ¿æŸ¥çœ‹" class="headerlink" title="2. å„€è¡¨æ¿æŸ¥çœ‹"></a>2. å„€è¡¨æ¿æŸ¥çœ‹</h3><p>è¼¸å…¥å¸³è™Ÿå¯†ç¢¼ç™»å…¥å¾Œï¼Œæœƒå‡ºç¾æ‰€æœ‰ä½ æ“æœ‰çš„ container images å’Œ Helm chartsã€‚</p><blockquote><p>portal ä¸Šåªæœƒåˆ—å‡ºä½ æœ‰è³¼è²·çš„ applications and building blocksã€‚<br>ç•¶ç„¶å¦‚æœä½ çš„å…¬å¸æœ‰æ¡è³¼ Tanzu Advanced çš„è©±ï¼Œå°±æ˜¯å…¨éƒ¨éƒ½æœ‰å•¦ï½ä¸éæ˜¯ by Core by å¹´è¨‚é–±ï¼ˆ2021.08 çš„æƒ…æ³ï¼‰</p></blockquote><h4 id="åè©ä»‹ç´¹"><a href="#åè©ä»‹ç´¹" class="headerlink" title="åè©ä»‹ç´¹"></a>åè©ä»‹ç´¹</h4><blockquote><p>åœ¨å° end-user çš„è»Ÿé«”äº¤ä»˜ä¸­çš„å–®ä½ç¨±ç‚º Application Artifacts ï¼Œç°¡ç¨± AAã€‚</p></blockquote><p><img src="https://i.imgur.com/1xbVlHE.png"></p><blockquote><p>TAC è£¡é¢çš„AA æœ‰å¯èƒ½æ˜¯ä¸€çµ„ helm chart (å¥½å¹¾å€‹containers) å¦‚ä¸Šï¼Œæˆ–æ˜¯å–®å€‹ Container image å¦‚ä¸‹</p></blockquote><p><img src="https://i.imgur.com/ZVwHjQs.png"></p><h2 id="å¯¦å‹™ä¸Šå¸¸æœƒè¦çœ‹çš„æŒ‡æ¨™"><a href="#å¯¦å‹™ä¸Šå¸¸æœƒè¦çœ‹çš„æŒ‡æ¨™" class="headerlink" title="/ å¯¦å‹™ä¸Šå¸¸æœƒè¦çœ‹çš„æŒ‡æ¨™ /"></a>/ å¯¦å‹™ä¸Šå¸¸æœƒè¦çœ‹çš„æŒ‡æ¨™ /</h2><p>ä¾†æºï¼š(Digest)çœ‹é€™å€‹image çš„å€‰åº«æ˜¯å­˜æ”¾åœ¨å“ªè£¡<br>ç‰ˆæœ¬ï¼š(tags)</p><p>é€™å…©è€…ä¸ç”¨èªªï¼Œä¸Šé¢æˆ‘æœ‰æåˆ°ç›®å‰ä¸Ÿåœ¨å“ªè£¡ï¼Œè€Œä¸”ç‰ˆæœ¬ä¹Ÿå¯ä»¥ç›´æ¥é€é VAC(TAC) ä»‹é¢æŸ¥çœ‹ï¼Œæ›´é‡è¦çš„æ˜¯é€™å€‹ï¼š</p><p><img src="https://i.imgur.com/vw5Izj9.png"></p><p>åŸºæœ¬ä¸Šé€™å¼µåœ–æ‰€åˆ—çš„ç¯„åœå¤§æ¦‚å°±æ˜¯å¹³å°æœ€é‡è¦çš„åŠŸèƒ½ï¼Œæˆ‘å€‘é–‹ç™¼ä¼æ¥­æ‡‰ç”¨ï¼Œè¦é€šéç›¸é—œæ©Ÿæ§‹çš„ç¨½æŸ¥ï¼Œæœ€æ–¹ä¾¿çš„å°±æ˜¯åœ¨é€™é‚Šå»çœ‹æˆ‘ç›¸é—œ AA çš„è©³ç´°å®‰å…¨å ±å‘Šäº†ï¼ŒåŒ…å«ï¼š æ¸¬è©¦çµæœ(test result) ã€å¼±æƒå ±å‘Šï¼š(CVE Scan Result) çœ‹é€™å€‹package è£¡é ­æœ‰æ²’æœ‰å·²çŸ¥çš„å®‰å…¨æ€§æ¼æ´ç­‰ç­‰å¯ä»¥ä¸‹è¼‰ã€é˜²æ¯’å ±å‘Šï¼š(Antivirus Scan) ç­‰ç­‰</p><h2 id="éƒ¨ç½²ä¸€å€‹è¢«-TAC-å®‰å…¨èªè­‰éçš„æ‡‰ç”¨ç¨‹å¼-ä»¥-wordpress-ç‚ºä¾‹"><a href="#éƒ¨ç½²ä¸€å€‹è¢«-TAC-å®‰å…¨èªè­‰éçš„æ‡‰ç”¨ç¨‹å¼-ä»¥-wordpress-ç‚ºä¾‹" class="headerlink" title="/ éƒ¨ç½²ä¸€å€‹è¢« TAC å®‰å…¨èªè­‰éçš„æ‡‰ç”¨ç¨‹å¼- ä»¥ wordpress ç‚ºä¾‹ /"></a>/ éƒ¨ç½²ä¸€å€‹è¢« TAC å®‰å…¨èªè­‰éçš„æ‡‰ç”¨ç¨‹å¼- ä»¥ wordpress ç‚ºä¾‹ /</h2><h3 id="1-ä¿æŒ-helm-å¥åº·ï¼Œlike-apt-update"><a href="#1-ä¿æŒ-helm-å¥åº·ï¼Œlike-apt-update" class="headerlink" title="1. ä¿æŒ helm å¥åº·ï¼Œlike apt update"></a>1. ä¿æŒ helm å¥åº·ï¼Œlike apt update</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">helm repo update</span><br></pre></td></tr></table></figure><ol start="2"><li>ç”±æ–¼ä½œè€…æˆ‘æ˜¯å…ˆç”¨é­”æ³•ç¶²è·¯ï¼Œæ‹‰ image åˆ°æˆ‘çš„ harbor äº†ï¼Œç›´æ¥æŒ‡å®šè©² project ç„¶å¾Œé–‹å§‹å®‰è£ wordpress<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ helm install tac-maria tac-repo/mariadb --set auth.username=admin_wordpress --set auth.password=VMware1! --set auth.database=wp_database</span><br><span class="line">$ helm install tac-wp tac-repo/wordpress --set mariadb.enabled=false --set externalDatabase.host=tac-maria-mariadb.default.svc.cluster.local --set externalDatabase.user=admin_wordpress  --set externalDatabase.password=VMware1! --set externalDatabase.database=wp_database</span><br></pre></td></tr></table></figure></li></ol><p><img src="https://i.imgur.com/yw7E0tC.png"><br><img src="https://i.imgur.com/R4i8vtT.png"></p><p><img src="https://i.imgur.com/JDIcOsf.png"></p><p>ç™»é€²å»å¾Œè‡ºå¯«é»æ±è¥¿ï¼Œç™»å»å¾Œå°åªè¦åœ¨ç¶²å€å¾Œé¢åŠ  /adminï¼š<br><img src="https://i.imgur.com/fAQbpoU.png"><br>å¸³è™Ÿæ˜¯ user, å¯†ç¢¼é€™æ¨£æ‹¿ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get secret --namespace default tac-wp-wordpress -o jsonpath=&quot;&#123;.data.wordpress-password&#125;&quot; | base64 -d &amp;&amp; echo</span><br></pre></td></tr></table></figure><h4 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h4><p><img src="https://i.imgur.com/ZA925eV.png"></p><p>å®Œå…¨å°±è·Ÿä¹‹å‰éƒ¨ç½² application ä¸€æ¨£çš„é«”é©—ï¼Œé‡é»æ˜¯ä¾†æºç«¯æ˜¯è¢«é©—è­‰çš„ï¼Œæ‰€ä»¥æ˜ åƒæª”å€‰åº«éå¸¸éå¸¸é‡è¦å–”ï¼</p><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="å»ºè­°æœ€ä½³æ•´åˆä½¿ç”¨-kubeapps"><a href="#å»ºè­°æœ€ä½³æ•´åˆä½¿ç”¨-kubeapps" class="headerlink" title="/ å»ºè­°æœ€ä½³æ•´åˆä½¿ç”¨ kubeapps /"></a>/ å»ºè­°æœ€ä½³æ•´åˆä½¿ç”¨ kubeapps /</h2><p>Kubeapps æ˜¯ä¸€å€‹æœ€å®¹æ˜“æ–¹ä¾¿éƒ¨ç½²æ‡‰ç”¨åˆ° k8s cluster è£¡é ­çš„ä¸€å€‹ web-UI å·¥å…·ï¼Œä»‹é¢ä¹Ÿéå¸¸ç›´è¦ºï¼Œå®¹æ˜“ç®¡ç†ä½ æ‰€æ“æœ‰çš„æ‡‰ç”¨ï¼Œè©³ç´°å¯åƒè€ƒå®˜ç¶²ï¼š kubeappsï¼š<a href="https://kubeapps.com/">https://kubeapps.com/</a></p><p>éƒ½åŒæ¨£æ˜¯ Bitnami å‡ºç”¢ï¼ŒTAC è£¡é¢ç•¶ç„¶ä¹Ÿæœ‰ kubeapps å¯ä»¥ä¸‹è¼‰å›‰ï¼<br>åŒæ¨£çœç•¥é€£é­”æ³•ç¶²è·¯ä¸‹è¼‰åˆ°è‡ªå·±ç§å€‰é‚£æ®µï¼Œä»¥ä¸‹æ˜¯æˆ‘å®‰è£ä½¿ç”¨ kubeapps çš„ç´€éŒ„</p><h3 id="å®‰è£kubeapps"><a href="#å®‰è£kubeapps" class="headerlink" title="å®‰è£kubeapps"></a>å®‰è£kubeapps</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ helm install kubeapps tac-repo/kubeapps --set useHelm3=true --set frontend.service.type=LoadBalancer --wait</span><br><span class="line">$  kubectl get svc kubeapps</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/Uwdd6Fo.png"></p><h3 id="æ‹¿tokenç™»å…¥"><a href="#æ‹¿tokenç™»å…¥" class="headerlink" title="æ‹¿tokenç™»å…¥"></a>æ‹¿tokenç™»å…¥</h3><h4 id="æ–°å¢å¸³è™Ÿï¼Œåš-role-binding"><a href="#æ–°å¢å¸³è™Ÿï¼Œåš-role-binding" class="headerlink" title="æ–°å¢å¸³è™Ÿï¼Œåš role binding"></a>æ–°å¢å¸³è™Ÿï¼Œåš role binding</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create serviceaccount kubeapps-operator</span><br><span class="line">$ kubectl create clusterrolebinding kubeapps-operator --clusterrole=cluster-admin --serviceaccount=default:kubeapps-operator</span><br></pre></td></tr></table></figure><h4 id="è§£ç¢¼token"><a href="#è§£ç¢¼token" class="headerlink" title="è§£ç¢¼token"></a>è§£ç¢¼token</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get secret $(kubectl get serviceaccount kubeapps-operator -o jsonpath=&#x27;&#123;range .secrets[*]&#125;&#123;.name&#125;&#123;&quot;\n&quot;&#125;&#123;end&#125;&#x27; | grep kubeapps-operator-token) -o jsonpath=&#x27;&#123;.data.token&#125;&#x27; -o go-template=&#x27;&#123;&#123;.data.token | base64decode&#125;&#125;&#x27; &amp;&amp; echo</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/8HEibVE.png"></p><h4 id="å³ä¸Šè§’-gt-æ–°å¢-repository-ï¼ˆæ³¨æ„é€™æ˜¯-app-repository-è·Ÿ-image-code-repo-ä¸ä¸€æ¨£å–”ï¼‰"><a href="#å³ä¸Šè§’-gt-æ–°å¢-repository-ï¼ˆæ³¨æ„é€™æ˜¯-app-repository-è·Ÿ-image-code-repo-ä¸ä¸€æ¨£å–”ï¼‰" class="headerlink" title="å³ä¸Šè§’ &gt; æ–°å¢ repository ï¼ˆæ³¨æ„é€™æ˜¯ app repository, è·Ÿ image/code repo ä¸ä¸€æ¨£å–”ï¼‰"></a>å³ä¸Šè§’ &gt; æ–°å¢ repository ï¼ˆæ³¨æ„é€™æ˜¯ app repository, è·Ÿ image/code repo ä¸ä¸€æ¨£å–”ï¼‰</h4><p><img src="https://i.imgur.com/CN4ufs5.png"></p><p><img src="https://i.imgur.com/iY51lnI.png"></p><h3 id="å®Œæˆ-1"><a href="#å®Œæˆ-1" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h3><p><img src="https://i.imgur.com/NePwxdw.png"></p><hr><p>ä»¥ä¸Šæ˜¯æˆ‘å€‹äººç°¡å–®è©¦ç©çš„åˆ†äº«ã€‚å¦‚æœæ˜¯æƒ³è¦æ¥æ¡ˆå¾ˆå¤šè¦éƒ¨ç½²æ‡‰ç”¨çš„æºé ­åˆ°å„è™•çš„ ISV å» å•†ï¼Œæˆ–æ¥­å‹™ä¸Šéœ€è¦å»ºç«‹ä¸€å€‹è‡ªå·±ç™¼å¸ƒæ‡‰ç”¨çµ¦æˆæ¬Šçš„å–®ä½ä½¿ç”¨çš„å¹³å°ï¼Œé€é VAC(TAC) åŠ ä¸Š kubeapps é«”é©—æ‡‰è©²æ˜¯è »æµæš¢çš„ã€‚</p><p><img src="https://i.imgur.com/HiQJjuJ.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ¬æ–‡å°±æ˜¯ç©ç©çœ‹ï¼š&lt;br&gt;&lt;a href=&quot;https://docs.vmware.com/en/VMware-Tanzu-Application-Catalog/services/tac-docs/GUID-get-started-get-started-tanzu-app</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="é‚£æ ¹æ¨¹æ Tanzu" scheme="https://sapphirelin.com/categories/work-hack/%E9%82%A3%E6%A0%B9%E6%A8%B9%E6%9E%9D-Tanzu/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="work hack" scheme="https://sapphirelin.com/tags/work-hack/"/>
    
    <category term="Tanzu" scheme="https://sapphirelin.com/tags/Tanzu/"/>
    
    <category term="VMware Application Catalog" scheme="https://sapphirelin.com/tags/VMware-Application-Catalog/"/>
    
    <category term="Tanzu Application Catalog" scheme="https://sapphirelin.com/tags/Tanzu-Application-Catalog/"/>
    
    <category term="TAC" scheme="https://sapphirelin.com/tags/TAC/"/>
    
    <category term="kubeapps" scheme="https://sapphirelin.com/tags/kubeapps/"/>
    
    <category term="Application Catalog" scheme="https://sapphirelin.com/tags/Application-Catalog/"/>
    
  </entry>
  
  <entry>
    <title>TKG v1.5 GA æ›´æ–°äº†ä»€éº¼ï¼Ÿ what&#39;s new é‡é»æ•´ç†</title>
    <link href="https://sapphirelin.com/20220222-TKG-v1-5-%E5%A4%A7%E6%9B%B4%E6%96%B0-what-s-new-%E9%87%8D%E9%BB%9E%E6%95%B4%E7%90%86/"/>
    <id>https://sapphirelin.com/20220222-TKG-v1-5-%E5%A4%A7%E6%9B%B4%E6%96%B0-what-s-new-%E9%87%8D%E9%BB%9E%E6%95%B4%E7%90%86/</id>
    <published>2022-02-22T10:34:51.000Z</published>
    <updated>2022-02-23T05:06:42.528Z</updated>
    
    <content type="html"><![CDATA[<p>2022 å¹´ 2 æœˆ 17 æ—¥å¤§å®¶çš„ä¿¡ç®±æ‡‰è©²æ”¶åˆ°äº† TKG 1.5 GA Release Note äº†ï¼Œ<br>TKG ç™¼ä½ˆäº† 1.5 è·Ÿå…¶æ›´æ–°ç‰ˆ 1.5.1 ï¼Œè©³è¦‹: <a href="https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.5/rn/vmware-tanzu-kubernetes-grid-15-release-notes/index.html">VMware Tanzu Kubernetes Grid 1.5 Release Notes</a></p><p><img src="https://i.imgur.com/SpVoQQE.png"></p><h3 id="å¹¾å€‹å¿«é€ŸåŠŸèƒ½é‡é»ï¼š"><a href="#å¹¾å€‹å¿«é€ŸåŠŸèƒ½é‡é»ï¼š" class="headerlink" title="å¹¾å€‹å¿«é€ŸåŠŸèƒ½é‡é»ï¼š"></a>å¹¾å€‹å¿«é€ŸåŠŸèƒ½é‡é»ï¼š</h3><ul><li>Tanzu CLI å¢å¼· aka å¤§æ”¹è®Šï¼Œæˆ‘çš„ <a href="https://github.com/sapphirelin/tanzu-multi-cloud-playground">TKG ç›¸é—œç­†è¨˜@github</a> extension éƒ¨åˆ†æŒ‡ä»¤é€²å…¥æ­·å²ï¼Œæé†’è‡ªå·±è¨˜å¾—æ›´æ–°</li><li>å¯ä»¥é€éæ–°ç”¢å“ <a href="https://tanzu.vmware.com/application-platform">Tanzu Application Platform</a> (TAP) v1.0.1 éƒ¨ç½²æ‡‰ç”¨åˆ° k8s clusterï¼Œä¸¦ä¸”å¯ä»¥ç›´æ¥ç”¨ Tanzu CLI <code>tanzu apps</code> æŒ‡ä»¤ç®¡ç†ï¼Œè©³ <a href="https://docs.vmware.com/en/VMware-Tanzu-Application-Platform/index.html">TAP æ–‡ä»¶</a></li><li>ç¾åœ¨æ”¯æ´ Windows OS as k8s worker node</li><li>æœ‰ <a href="https://blogs.vmware.com/vmware-taiwan/2022/01/12/%E7%B6%B2%E8%B7%AF%E8%99%9B%E6%93%AC%E5%8C%96nsx-%E6%8A%80%E8%A1%93%E6%96%87%E7%AB%A0%E7%B3%BB%E5%88%97%E4%BA%8C%E7%99%BE%E5%9B%9B%E5%8D%81-nsx-advanced-load-balancer%E5%AE%B9%E5%99%A8%E6%96%B9/">NSX ALB</a> (Avi) çš„ TKG ç’°å¢ƒå¯ä»¥é€é <a href="https://pinniped.dev/">Pinniped</a> å°ˆæ¡ˆä¾†è·Ÿå¤–éƒ¨çš„èº«ä»½èªè­‰ç™»å…¥æ•´åˆ</li><li>é…åˆ <a href="https://antrea.io/docs/main/docs/node-port-local/">Antrea</a> æ›´æ–°ï¼Œç¾åœ¨ L7 Ingress ä¸åªæœ‰ ClusterIP è·Ÿ NodePortï¼Œé‚„å¯ä»¥ä½¿ç”¨ <a href="https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.5/vmware-tanzu-kubernetes-grid-15/GUID-networking-configure-l7.html#nodeportlocal">NodePortLocal</a> æ¨¡å¼ï¼Œæµé‡å¯ route åˆ° worker nodes è€Œä¸åªæ˜¯ pods äº†ã€‚ï¼ˆæ³¨æ„è¦ NSX ALB ä¼æ¥­ç‰ˆæœ¬ï¼‰</li><li>TKG ç›¸é—œæ¡†æ¶åŒ…å«ã€tanzu CLIã€APIã€tanzu packge e.g. contour, prometheus çš„<a href="https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.5/rn/vmware-tanzu-kubernetes-grid-15-release-notes/index.html#component-versions">ç‰ˆæœ¬ç·¨è™Ÿ</a>å°‡è·Ÿé–‹æºå°ˆæ¡ˆä¸€è‡´ï¼ˆç™½è©±æ–‡ï¼šTKG &amp; TCE å°‡æœ‰åŒæ¨£çš„ version tagï¼‰ã€‚ç¾åœ¨ TKG v1.5.1 æ˜¯ä½¿ç”¨ Tanzu Framework v0.11.1ï¼Œå¯åƒè€ƒä¸‹æ–¹ç›¸é—œçµ„ä»¶è¡¨æ ¼ã€‚</li></ul><h3 id="TKG-1-5-æ”¯æ´çš„-Kubernetes-ç‰ˆæœ¬æ¯”è¼ƒè¡¨ï¼š"><a href="#TKG-1-5-æ”¯æ´çš„-Kubernetes-ç‰ˆæœ¬æ¯”è¼ƒè¡¨ï¼š" class="headerlink" title="TKG 1.5 æ”¯æ´çš„ Kubernetes ç‰ˆæœ¬æ¯”è¼ƒè¡¨ï¼š"></a>TKG 1.5 æ”¯æ´çš„ Kubernetes ç‰ˆæœ¬æ¯”è¼ƒè¡¨ï¼š</h3><p><img src="https://i.imgur.com/7cnSRx6.jpg"></p><h3 id="TKG-1-5-é…åˆçš„ç›¸é—œçµ„ä»¶-metricsï¼š"><a href="#TKG-1-5-é…åˆçš„ç›¸é—œçµ„ä»¶-metricsï¼š" class="headerlink" title="TKG 1.5 é…åˆçš„ç›¸é—œçµ„ä»¶ metricsï¼š"></a>TKG 1.5 é…åˆçš„ç›¸é—œçµ„ä»¶ metricsï¼š</h3><p>ä¸‹é¢é€™å¼µè¡¨é‚„è¦åƒè€ƒ Component Versions<br><img src="https://i.imgur.com/CMzwKD7.jpg"></p><hr><p>çœ‹å®Œ Release Note æ‰¾ä¸€ä¸‹æƒ³è¦æ¸¬çš„æ–¹å‘ï¼Œå°±å¯ä»¥ç™»å…¥ä½ çš„ lab ç„¶å¾Œæ‰“é–‹æ–°çš„ <a href="https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.5/vmware-tanzu-kubernetes-grid-15/GUID-index.html">TKG 1.5 å®˜æ–¹æ–‡ä»¶</a> å›‰</p><p>Happy Labing. ğŸ¥²</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;2022 å¹´ 2 æœˆ 17 æ—¥å¤§å®¶çš„ä¿¡ç®±æ‡‰è©²æ”¶åˆ°äº† TKG 1.5 GA Release Note äº†ï¼Œ&lt;br&gt;TKG ç™¼ä½ˆäº† 1.5 è·Ÿå…¶æ›´æ–°ç‰ˆ 1.5.1 ï¼Œè©³è¦‹: &lt;a href=&quot;https://docs.vmware.com/en/VMware-Tanzu-Kub</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="é‚£æ ¹æ¨¹æ Tanzu" scheme="https://sapphirelin.com/categories/work-hack/%E9%82%A3%E6%A0%B9%E6%A8%B9%E6%9E%9D-Tanzu/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="work hack" scheme="https://sapphirelin.com/tags/work-hack/"/>
    
    <category term="Tanzu" scheme="https://sapphirelin.com/tags/Tanzu/"/>
    
    <category term="tkg" scheme="https://sapphirelin.com/tags/tkg/"/>
    
    <category term="Tanzu Kubernetes Grid" scheme="https://sapphirelin.com/tags/Tanzu-Kubernetes-Grid/"/>
    
    <category term="tkgm" scheme="https://sapphirelin.com/tags/tkgm/"/>
    
  </entry>
  
  <entry>
    <title>è€ƒå®Œè­‰ç…§å¾Œè˜‹æœé›»è…¦å£æ‰çš„è§£æ³• | Pearson OnVUE å¼„å£æˆ‘çš„ Mac å•¦å•Šå•Šå•Š</title>
    <link href="https://sapphirelin.com/20220123-%E8%80%83%E5%AE%8C%E8%AD%89%E7%85%A7%E5%BE%8C%E8%98%8B%E6%9E%9C%E9%9B%BB%E8%85%A6%E5%A3%9E%E6%8E%89%E7%9A%84%E8%A7%A3%E6%B3%95-Pearson-OnVUE-%E5%BC%84%E5%A3%9E%E6%88%91%E7%9A%84=Mac-%E5%95%A6%E5%95%8A%E5%95%8A%E5%95%8A/"/>
    <id>https://sapphirelin.com/20220123-%E8%80%83%E5%AE%8C%E8%AD%89%E7%85%A7%E5%BE%8C%E8%98%8B%E6%9E%9C%E9%9B%BB%E8%85%A6%E5%A3%9E%E6%8E%89%E7%9A%84%E8%A7%A3%E6%B3%95-Pearson-OnVUE-%E5%BC%84%E5%A3%9E%E6%88%91%E7%9A%84=Mac-%E5%95%A6%E5%95%8A%E5%95%8A%E5%95%8A/</id>
    <published>2022-01-23T01:51:13.000Z</published>
    <updated>2022-01-24T09:08:53.032Z</updated>
    
    <content type="html"><![CDATA[<p>After the online test by PearsonVue, I cannot call my Mission Control (MacBook).<br>Un-installed the OnVue app which is used by the test still doesnâ€™t work. (ï¾Ÿçš¿ï¾Ÿï¾’)</p><p>å…¶å¯¦æˆ‘å·²ç¶“å¿è€å¥½å¹¾å€‹æœˆï¼Œå¾Œä¾†çµ‚æ–¼æœ‰ç©ºè·Ÿå» Apple store åŸå» è«‹ä»–çœ‹çœ‹æ˜¯æ€éº¼å›äº‹ã€‚<br>é‚£å¤©çš„ç™¼ç¾åªæœ‰é€™å€‹ä¸æ˜¯ç¡¬é«”å•é¡Œã€æ˜¯è»Ÿé«”å•é¡Œï¼Œç¸½ä¹‹è³‡æ–™è¦æ¬ä¸å°±ç­‰æ–¼é‡çŒâ€¦æˆ‘å°±ä¹¾è„†é‡çŒäº†ã€‚<br>ä½†ç•¶æˆ‘è€ƒåˆ°ä¸‹ä¸€å¼µè­‰ç…§çš„æ™‚å€™ï¼Œæ‚²åŠ‡å†æ¬¡ç™¼ç”Ÿâ€¦.. </p><p><strong>æˆ‘ å¯ ä¸ è¦ å† é‡ çŒ</strong></p><p>ç”¨è­‰ç…§æ›å–é›»è…¦é‡çŒçœŸçš„å¾ˆä¸åˆ’ç®—ï¼Œé€™å°å¯æ˜¯æˆ‘çš„å„ªç§€ lab æ©Ÿï¼Œæˆ‘éš¨æ™‚å°±è¦æ‹¿ä¾†ç”¨ !!!</p><p>å°‹å°‹è¦“è¦“æˆ‘çµ‚æ–¼æ‰¾åˆ°ä¸€ä½<a href="https://medium.com/@oluwasegunadepoju/macs-mission-control-disabled-after-using-the-onvue-application-604e75e3dd8a">å¤§å¤§</a>é‡åˆ°ç›¸åŒå•é¡Œç„¶å¾Œæœ‰è§£äº†ï¼š</p><p>ï¼ˆæœ¬ç¯‡æ–¼2021å¹´3æœˆå¯¦ä½œï¼‰</p><h3 id="åŸå› "><a href="#åŸå› " class="headerlink" title="/ åŸå›  /"></a>/ åŸå›  /</h3><p><code>$ defaults read com.apple.dock mcx-expose-disabled</code></p><h3 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="/ è§£æ³• /"></a>/ è§£æ³• /</h3><p>åˆ° Terminal ä¸‹é€™å…©æ¢æŒ‡ä»¤å°±å¥½å›‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ defaults delete com.apple.dock mcx-expose-disabled</span><br><span class="line">$ killall Dock</span><br></pre></td></tr></table></figure><p>DO RE MI SO  (*Â´âˆ€`)~â™¥</p><p>Macbook ä¸Šæ»‘çµ‚æ–¼åˆå‡ºç¾ Misson Controlâ€¦ æˆ‘çš„ Finder çµ‚æ–¼æ²’æœ‰å£æ‰äº†</p><hr><p>å¾ŒçºŒåŒå¹´ 7 æœˆåº•æˆ‘åŒæ¨£åˆ©ç”¨ PearsonVue è€ƒè©¦ï¼Œæˆ‘è˜‹æœé›»è…¦çš„æŒ‡æ®ä¸­å¿ƒ(Mission Control) å°±æ²’æœ‰å†æŒçºŒå‡ºå•é¡Œäº†ã€‚<br>åˆ†äº«çµ¦åŒæ¨£é‡åˆ°å¤§å®¶ï¼Œä¸€èµ·æ€’è€ƒè­‰ç…§!</p><p>TschÃ¼ss! (ï¾‰&gt;Ï‰&lt;)ï¾‰</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;After the online test by PearsonVue, I cannot call my Mission Control (MacBook).&lt;br&gt;Un-installed the OnVue app which is used by the test </summary>
      
    
    
    
    <category term="life hack" scheme="https://sapphirelin.com/categories/life-hack/"/>
    
    <category term="å·¥ç¨‹å¸«äººç”Ÿ" scheme="https://sapphirelin.com/categories/life-hack/%E5%B7%A5%E7%A8%8B%E5%B8%AB%E4%BA%BA%E7%94%9F/"/>
    
    
    <category term="life hack" scheme="https://sapphirelin.com/tags/life-hack/"/>
    
    <category term="Pearson" scheme="https://sapphirelin.com/tags/Pearson/"/>
    
    <category term="OnVUE" scheme="https://sapphirelin.com/tags/OnVUE/"/>
    
    <category term="Certification" scheme="https://sapphirelin.com/tags/Certification/"/>
    
  </entry>
  
  <entry>
    <title>å®‰è£åœ°ç«¯ç§å€‰ harbor 2.3 åˆ° photon OS VM</title>
    <link href="https://sapphirelin.com/20211007-%E5%AE%89%E8%A3%9D%E5%9C%B0%E7%AB%AF%E7%A7%81%E5%80%89-harbor-2-3-%E5%88%B0-photon-OS-VM/"/>
    <id>https://sapphirelin.com/20211007-%E5%AE%89%E8%A3%9D%E5%9C%B0%E7%AB%AF%E7%A7%81%E5%80%89-harbor-2-3-%E5%88%B0-photon-OS-VM/</id>
    <published>2021-10-07T01:51:13.000Z</published>
    <updated>2022-02-22T13:10:41.697Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><h3 id="Hardware"><a href="#Hardware" class="headerlink" title="Hardware"></a>Hardware</h3><p>2CPU / 2GB Mem / 40GB Disk</p><h3 id="Software"><a href="#Software" class="headerlink" title="Software"></a>Software</h3><p>Docker Engine: v17.06.0-ce or later<br>Docker Compose: v1.18.0 or later</p><h2 id="My-Environment"><a href="#My-Environment" class="headerlink" title="My Environment"></a>My Environment</h2><p>Photon OS 3.0 (64-bit)<br>2 vCPU / 2 GB Memory / 200 GB Disk </p><h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><p>CPU: 263 MHz<br>MEMORY: 368 MB<br>STORAGE: 104.08 GB</p><h2 id="OS-preparation"><a href="#OS-preparation" class="headerlink" title="OS preparation"></a>OS preparation</h2><ol><li><p>ä½¿ç”¨ <strong>root</strong> ç™»å…¥ï¼Œè‹¥å®‰è£æ™‚æ²’æœ‰è¨­å®šå¯†ç¢¼å‰‡åˆå§‹å¯†ç¢¼ç‚º <code>changeme</code></p></li><li><p>ç‚ºäº†è®“ root user å¯ä»¥ SSHï¼Œå°‡ <strong>PermitRootLogin</strong> è¨­å®šç‚º <strong>yes</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sed -I &#x27;s/^PermitRootLogin no/PermitRootLogin yes/&#x27; /etc/ssh/sshd_config</span><br><span class="line">$ systemctl restart sshd</span><br></pre></td></tr></table></figure></li><li><p>åŠ å…¥æˆ‘çš„ DNS suffixï¼Œå°‡ <code>sapphire.local</code> æ”¹æˆä½ è‡ªå·±çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ echo &quot;Domain=sapphire.local&quot; &gt;&gt; /etc/systemd/network/99-static-en.network</span><br><span class="line">$ systemctl restart systemd-networkd</span><br></pre></td></tr></table></figure></li><li><p>Photon OS é è¨­æœ‰è£ dockerï¼Œä½†éœ€è¦ <strong>enabled</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl enable docker</span><br><span class="line">$ systemctl start docker</span><br><span class="line">$ sudo docker version</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£ <a href="https://docs.docker.com/compose/install/#install-compose">docker-compose</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose</span><br><span class="line">$ chmod +x /usr/local/bin/harbor</span><br><span class="line">$ sudo docker-compose --version</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>å®‰è£æ†‘è­‰(CA)</p><p> 6.1 ç”Ÿæˆ CA ç§é‘°</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl genrsa -out ca.key 4096</span><br></pre></td></tr></table></figure><p> 6.2  ç”Ÿæˆ CA</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">openssl req -x509 -new -nodes -sha512 -days 3650 \</span><br><span class="line"> -subj &quot;/C=TW/ST=Taiwan/L=Taipei/O=example/OU=Personal/CN=harbor.sapphire.local&quot; \</span><br><span class="line"> -key ca.key \</span><br><span class="line"> -out ca.crt</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> 6.3  ç”Ÿæˆ Server ç§é‘°</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -out harbor.sapphire.local.key 4096</span><br></pre></td></tr></table></figure><p> 6.4 ç”Ÿæˆ Server CSR</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">openssl req -sha512 -new \</span><br><span class="line">    -subj &quot;/C=TW/ST=Taiwan/L=Taipei/O=example/OU=Personal/CN=harbor.sapphire.local&quot; \</span><br><span class="line">    -key harbor.sapphire.local.key \</span><br><span class="line">    -out harbor.sapphire.local.csr</span><br></pre></td></tr></table></figure><p> 6.5 ç”Ÿæˆ x509 æ ¼å¼æ¨™æº–æª”æ¡ˆ</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; v3.ext &lt;&lt;-EOF</span><br><span class="line">authorityKeyIdentifier=keyid,issuer</span><br><span class="line">basicConstraints=CA:FALSE</span><br><span class="line">keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment</span><br><span class="line">extendedKeyUsage = serverAuth</span><br><span class="line">subjectAltName = @alt_names</span><br><span class="line"></span><br><span class="line">[alt_names]</span><br><span class="line">DNS.1 = harbor.sapphire.local</span><br><span class="line">DNS.2 = harbor</span><br><span class="line">IP.1 = 10.213.180.70</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p> 6.6 åˆ©ç”¨æ­¤ v3.ext æª”æ¡ˆç”Ÿæˆ harbor æ†‘è­‰</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -req -sha512 -days 3650 \</span><br><span class="line">    -extfile v3.ext \</span><br><span class="line">    -CA ca.crt -CAkey ca.key -CAcreateserial \</span><br><span class="line">    -in harbor.sapphire.local.csr \</span><br><span class="line">    -out harbor.sapphire.local.crt</span><br></pre></td></tr></table></figure><p> 6.7 å‰µå»ºè³‡æ–™å¤¾æ†‘è­‰</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /data/cert</span><br><span class="line">mkdir -p /etc/docker/certs.d/harbor.sapphire.local</span><br><span class="line">cp ~/harbor.sapphire.local.crt /data/cert/</span><br><span class="line">cp ~/harbor.sapphire.local.key /data/cert/</span><br></pre></td></tr></table></figure><p> 6.8 å°‡æ†‘è­‰è½‰æˆ Docker daemon åƒçš„æ ¼å¼ä¸¦ä¸Ÿé€²å» Photon OS æ†‘è­‰è·¯å¾‘</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -inform PEM -in ~/harbor.sapphire.local.crt -out /etc/docker/certs.d/harbor.sapphire.local/harbor.sapphire.local.cert</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> 6.9 ä¸Ÿå…¥ Photon OS æ†‘è­‰è·¯å¾‘ï¼Œä¸¦é‡å•Ÿ docker</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp ~/harbor.sapphire.local.key /etc/docker/certs.d/harbor.sapphire.local/</span><br><span class="line">cp ~/ca.crt /etc/docker/certs.d/harbor.sapphire.local/</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure></li><li><p>ç’°å¢ƒæº–å‚™å®Œæˆã€‚</p></li></ol><h2 id="Install-harbor"><a href="#Install-harbor" class="headerlink" title="Install harbor"></a>Install harbor</h2><ol><li><p>åˆ° <a href="https://github.com/goharbor/harbor/releases">Harbor Release</a> é¸ç‰ˆæœ¬ä¸‹è¼‰ï¼Œæœ¬æ–‡ä½¿ç”¨ç·šä¸Šç‰ˆæœ¬ <strong>v2.3</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ curl -L https://github.com/goharbor/harbor/releases/download/v2.3.1/harbor-online-installer-v2.3.1.tgz -o ~/harbor.tgz</span><br><span class="line"></span><br><span class="line">$ tar -zxvf ~/harbor.tgz</span><br><span class="line">harbor/prepare</span><br><span class="line">harbor/LICENSE</span><br><span class="line">harbor/install.sh</span><br><span class="line">harbor/common.sh</span><br><span class="line">harbor/harbor.yml.tmpl</span><br></pre></td></tr></table></figure></li><li><p>è¤‡è£½ä¸€ä»½ tamplateï¼Œä¿®æ”¹ harbor é…ç½®ï¼šhostname/certificate/private_key/password</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ cp harbor/harbor.yml.tmpl harbor/harbor.yml</span><br><span class="line"></span><br><span class="line">$ sed -i &#x27;s/hostname: reg.mydomain.com/hostname: harbor.sapphire.local/&#x27; ~/harbor/harbor.yml</span><br><span class="line">$ sed -i &#x27;s/your\/certificate\/path/data\/cert\/harbor.sapphire.local.crt/&#x27; ~/harbor/harbor.yml</span><br><span class="line">$ sed -i &#x27;s/your\/private\/key\/path/data\/cert\/harbor.sapphire.local.key/&#x27; ~/harbor/harbor.yml</span><br></pre></td></tr></table></figure><p>å¯åŠ å…¥ä»¥ä¸‹æŒ‡ä»¤ä¿®æ”¹é è¨­å¯†ç¢¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;s/Harbor12345/&lt;æ‚¨çš„å¯†ç¢¼&gt;/&#x27; ~/harbor/harbor.yml</span><br></pre></td></tr></table></figure></li><li><p>åŸ·è¡Œå®‰è£ï¼Œå¯åœ¨æ­¤æ­¥é©ŸåŒæ™‚å®‰è£å…¶ä»–å¤–æ›å¦‚ <code> --with-trivy</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo harbor/install.sh</span><br></pre></td></tr></table></figure></li><li><p>å®Œæˆï¼Œè¼¸å…¥ <code>https://harbor.sapphire.local</code> é€²å…¥ harbor UI</p></li></ol><p><img src="https://i.imgur.com/V6HlSfc.png"></p><p>GitHub ç‰ˆæœ¬ï¼š<a href="https://github.com/sapphirelin/harbor/tree/main/local-photon">https://github.com/sapphirelin/harbor/tree/main/local-photon</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Prerequisites&quot;&gt;&lt;a href=&quot;#Prerequisites&quot; class=&quot;headerlink&quot; title=&quot;Prerequisites&quot;&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;&lt;h3 id=&quot;Hardware&quot;&gt;&lt;a href=&quot;#H</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="Ï†á¿¶Ï‚ å…‰é‡å­  Photon" scheme="https://sapphirelin.com/categories/work-hack/%CF%86%E1%BF%B6%CF%82-%E5%85%89%E9%87%8F%E5%AD%90-Photon/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="work hack" scheme="https://sapphirelin.com/tags/work-hack/"/>
    
    <category term="ssh" scheme="https://sapphirelin.com/tags/ssh/"/>
    
    <category term="password" scheme="https://sapphirelin.com/tags/password/"/>
    
    <category term="Photon OS" scheme="https://sapphirelin.com/tags/Photon-OS/"/>
    
  </entry>
  
  <entry>
    <title>å‡ç´š vSphere 7U2c &amp; 7U2d å¾Œ VM Classes æ¬„ä½æ¶ˆå¤±å•é¡Œ</title>
    <link href="https://sapphirelin.com/20211007-%E5%8D%87%E7%B4%9A-vSphere-7U2c-7U2d-%E5%BE%8C-VM-Classes-%E6%AC%84%E4%BD%8D%E6%B6%88%E5%A4%B1%E5%95%8F%E9%A1%8C/"/>
    <id>https://sapphirelin.com/20211007-%E5%8D%87%E7%B4%9A-vSphere-7U2c-7U2d-%E5%BE%8C-VM-Classes-%E6%AC%84%E4%BD%8D%E6%B6%88%E5%A4%B1%E5%95%8F%E9%A1%8C/</id>
    <published>2021-10-07T01:49:21.000Z</published>
    <updated>2022-02-22T13:11:02.188Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å•é¡Œæè¿°"><a href="#å•é¡Œæè¿°" class="headerlink" title="/ å•é¡Œæè¿° /"></a>/ å•é¡Œæè¿° /</h2><p>åŸæœ¬åœ¨ vSphere Namespace æ‡‰æœ‰ VM Service å€å¡Šå¯ä»¥è¨­å®š VM CLASSESï¼Œå‡ç´šè‡³ vCenter 7U2c æˆ– vCenter 7U2d å¾Œï¼Œè©²æ¬„ä½æ¶ˆå¤±äº†ï¼Œä¹Ÿç„¡æ³•è¨­å®š<br><img src="https://i.imgur.com/0D6mgQR.png"></p><p><img src="https://i.imgur.com/F8OKATY.jpg"></p><p><img src="https://media4.giphy.com/media/dXQEwIMcrTxK9nfQ1f/200w.webp?cid=ecf05e47gc4mbeb948gq3k3iim2iqxhn1rj2ji9hz3xa4sst&rid=200w.webp&ct=g"></p><p>ä¸éä¸å½±éŸ¿æ—¢æœ‰è¨­å®šï¼Œ production æ²’äº‹æ²’äº‹</p><h2 id="è§£æ±ºè¾¦æ³•"><a href="#è§£æ±ºè¾¦æ³•" class="headerlink" title="/ è§£æ±ºè¾¦æ³• /"></a>/ è§£æ±ºè¾¦æ³• /</h2><p>workaround å¦‚ä¸‹ï¼š</p><h3 id="1-å‡ç´š-Supervisor-Cluster"><a href="#1-å‡ç´š-Supervisor-Cluster" class="headerlink" title="1. å‡ç´š Supervisor Cluster"></a>1. å‡ç´š Supervisor Cluster</h3><p>1.1 è‡³ Workload Management<br><img src="https://i.imgur.com/joYXvMQ.png"></p><p>1.2 è‡³ Updates é ç±¤ï¼Œé¸æ“‡ v1.20.2 ç‰ˆæœ¬ä¸¦æ›´æ–°<br><img src="https://i.imgur.com/WqUXlVN.png"></p><p>1.3 ç¢ºèª vSphere Namespace ç‰ˆæœ¬ç‚ºæœ€æ–°ï¼ŒèƒŒæ™¯æœƒè‡ªå‹•æ›´æ–°ä¸‰å° SupervisorClusterControlPlaneVM<br><img src="https://i.imgur.com/0JO7XBm.png"></p><p>1.4 ç­‰å¾…èƒŒæ™¯ä»»å‹™å®Œæˆï¼Œå¯æ–¼ Recent Task ç¢ºèª<br><img src="https://i.imgur.com/WL2HEzi.png"></p><p>å®Œæˆï¼Œ VM Service å¡ç‰‡é‡æ–°å‡ºç¾<br><img src="https://i.imgur.com/0D6mgQR.png"></p><h2 id="å½±éŸ¿ï¼†å¾ŒçºŒ"><a href="#å½±éŸ¿ï¼†å¾ŒçºŒ" class="headerlink" title="/ å½±éŸ¿ï¼†å¾ŒçºŒ /"></a>/ å½±éŸ¿ï¼†å¾ŒçºŒ /</h2><p>åŸºæœ¬ä¸Šå› ç‚º vSphere with Tanzu 7.0 U2a æ‰å¤šäº† VM Service Cardï¼Œå¦‚æœæ˜¯ U2 ä»¥å‰çš„ç’°å¢ƒå¯èƒ½æœƒæ²’æœ‰ç™¼ç¾ä»–æ¶ˆå¤±ã€‚</p><p>çœ‹èµ·ä¾†ç´”ç²¹ç‚ºå‡ç´šè‡³ U2c &amp; U2d çš„å°å½±éŸ¿ï¼Œåœ¨å¤šå€‹ç’°å¢ƒå·²ç¶“ç¢ºèªè¨­å®šéƒ½æœƒç¹¼æ‰¿ï¼Œæ‰€ä»¥ç…§è‘—ä¸Šè¿°å‡ç´š Supervisor Cluster çš„ Kubernetes Version å°±å¥½ã€‚</p><p>å¾ŒçºŒé‚„æ˜¯å»ºè­°éƒ½éµå¾ªæ–‡ä»¶çš„ <a href="https://docs.vmware.com/en/VMware-vSphere/7.0/vmware-vsphere-with-tanzu/GUID-7B4C9B95-E394-42B8-A76E-6D213CB7DF48.html">vSphere with Tanzu Updates</a> æ­¥é©Ÿå…¨éƒ½éƒ½å‡ä¸€å‡ï¼š<br><img src="https://i.imgur.com/9C22XSe.png" alt="Imgur"></p><p>ç¸½ä¹‹â€¦</p><h3 id="å®Œæˆï¼"><a href="#å®Œæˆï¼" class="headerlink" title="å®Œæˆï¼"></a>å®Œæˆï¼</h3><p><img src="https://media1.giphy.com/media/h4rLmOP2F6xh0bhYkF/giphy.gif?cid=790b7611067d832cec08d862ac5c11306581d2357cd4abe0&rid=giphy.gif&ct=g"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å•é¡Œæè¿°&quot;&gt;&lt;a href=&quot;#å•é¡Œæè¿°&quot; class=&quot;headerlink&quot; title=&quot;/ å•é¡Œæè¿° /&quot;&gt;&lt;/a&gt;/ å•é¡Œæè¿° /&lt;/h2&gt;&lt;p&gt;åŸæœ¬åœ¨ vSphere Namespace æ‡‰æœ‰ VM Service å€å¡Šå¯ä»¥è¨­å®š VM CLASSESï¼Œ</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="é‚£æ ¹æ¨¹æ Tanzu" scheme="https://sapphirelin.com/categories/work-hack/%E9%82%A3%E6%A0%B9%E6%A8%B9%E6%9E%9D-Tanzu/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="work hack" scheme="https://sapphirelin.com/tags/work-hack/"/>
    
    <category term="Tanzu" scheme="https://sapphirelin.com/tags/Tanzu/"/>
    
    <category term="vSphere with Tanzu" scheme="https://sapphirelin.com/tags/vSphere-with-Tanzu/"/>
    
    <category term="upgrade" scheme="https://sapphirelin.com/tags/upgrade/"/>
    
    <category term="VM Class" scheme="https://sapphirelin.com/tags/VM-Class/"/>
    
  </entry>
  
  <entry>
    <title>è¨­å®š/ä¿®æ”¹ PhotonOS çš„ hostname</title>
    <link href="https://sapphirelin.com/20210727-%E6%94%B9-PhotonOS-%E7%9A%84-hostname/"/>
    <id>https://sapphirelin.com/20210727-%E6%94%B9-PhotonOS-%E7%9A%84-hostname/</id>
    <published>2021-07-27T02:08:32.000Z</published>
    <updated>2022-02-22T13:11:29.666Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¦‚ä½•æ”¹-PhotonOS-çš„-hostname-vCenter-DNS-Name"><a href="#å¦‚ä½•æ”¹-PhotonOS-çš„-hostname-vCenter-DNS-Name" class="headerlink" title="å¦‚ä½•æ”¹ PhotonOS çš„ hostname (vCenter DNS Name)"></a>å¦‚ä½•æ”¹ PhotonOS çš„ hostname (vCenter DNS Name)</h1><p>ä½¿ç”¨å¥½ç”¨çš„ <code>nmtui</code> æ–‡å­—ä»‹é¢å·¥å…·é”æˆï¼</p><h2 id="é–‹å§‹"><a href="#é–‹å§‹" class="headerlink" title="/ é–‹å§‹ /"></a>/ é–‹å§‹ /</h2><ol><li>ç¢ºå®šç’°å¢ƒæœ‰ç„¡è£ <code>nmtui</code>ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status NetworkManager.service</span><br></pre></td></tr></table></figure><p>æœ‰çš„æ¨¡æ¨£ï¼š<br><img src="https://i.imgur.com/haA9O7x.png"></p><ol start="2"><li>æ²’æœ‰çš„è©±è£ä¸€ä¸‹ï¼š</li></ol><p><a href="https://vmware.github.io/photon/assets/files/html/3.0/photon_cli/netmgr-cli.html">Photon Network Manager Command-line Interface (netmgr)</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tdnf install netmgmt</span><br></pre></td></tr></table></figure><ol start="3"><li>ç¢ºå®šæœ‰ NetworkManager ä¹‹å¾Œï¼Œå°±å¯ä»¥ä½¿ç”¨ nmtui ä¾†èª¿æ•´ç¶²è·¯è¨­å®šï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmtui</span><br></pre></td></tr></table></figure><ol start="4"><li>é¸æœ€ä¸‹æ–¹çš„ Set Hostname æ”¹æˆä½ è¦çš„åç¨±</li></ol><p><img src="https://i.imgur.com/7KjBv44.png"></p><hr><h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="/ å®Œæˆ! /"></a>/ å®Œæˆ! /</h2><h3 id="before"><a href="#before" class="headerlink" title="before"></a>before</h3><p><img src="https://i.imgur.com/hGXXZ2C.jpg"></p><h3 id="after-ä¸ç”¨é‡é–‹æ©Ÿ"><a href="#after-ä¸ç”¨é‡é–‹æ©Ÿ" class="headerlink" title="after (ä¸ç”¨é‡é–‹æ©Ÿ)"></a>after (ä¸ç”¨é‡é–‹æ©Ÿ)</h3><p><img src="https://i.imgur.com/tDo2OYO.png"></p><hr><p>å…¶ä»–ä½œæ¥­ç³»çµ±ä¹Ÿæ˜¯è¡Œçš„ (Ë‡Ï‰Ë‡äºº)</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å¦‚ä½•æ”¹-PhotonOS-çš„-hostname-vCenter-DNS-Name&quot;&gt;&lt;a href=&quot;#å¦‚ä½•æ”¹-PhotonOS-çš„-hostname-vCenter-DNS-Name&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•æ”¹ PhotonOS</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="Ï†á¿¶Ï‚ å…‰é‡å­  Photon" scheme="https://sapphirelin.com/categories/work-hack/%CF%86%E1%BF%B6%CF%82-%E5%85%89%E9%87%8F%E5%AD%90-Photon/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="work hack" scheme="https://sapphirelin.com/tags/work-hack/"/>
    
    <category term="photonOS" scheme="https://sapphirelin.com/tags/photonOS/"/>
    
    <category term="photon OS" scheme="https://sapphirelin.com/tags/photon-OS/"/>
    
    <category term="phÃ´s" scheme="https://sapphirelin.com/tags/phos/"/>
    
    <category term="Ï†á¿¶Ï‚" scheme="https://sapphirelin.com/tags/%CF%86%E1%BF%B6%CF%82/"/>
    
    <category term="hostname" scheme="https://sapphirelin.com/tags/hostname/"/>
    
    <category term="dns name" scheme="https://sapphirelin.com/tags/dns-name/"/>
    
  </entry>
  
  <entry>
    <title>Photon OS åŠå…¶ä»–ä½œæ¥­ç³»çµ±æ†‘è­‰å®‰è£ç¸½æ•´ç†</title>
    <link href="https://sapphirelin.com/20210724-Photon-OS-%E5%8F%8A%E5%85%B6%E4%BB%96%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1%E6%86%91%E8%AD%89%E5%AE%89%E8%A3%9D%E6%B3%95/"/>
    <id>https://sapphirelin.com/20210724-Photon-OS-%E5%8F%8A%E5%85%B6%E4%BB%96%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1%E6%86%91%E8%AD%89%E5%AE%89%E8%A3%9D%E6%B3%95/</id>
    <published>2021-07-23T16:00:18.000Z</published>
    <updated>2021-07-27T02:11:19.163Z</updated>
    
    <content type="html"><![CDATA[<p>ç¾åœ¨é€™ä¸–ä»£â€” é›²åŸç”Ÿ(Cloud Native) ä¸–ä»£ï¼Œå°±æ˜¯æˆ‘åœ¨å“ªè£¡ï½å·¥ä½œå°±åœ¨å“ªè£¡(â€¦) æ¬¸ä¸æ˜¯ï¼Œæ˜¯ server å°±åœ¨é‚£è£¡ï¼<br>é€™æ™‚å€™æˆ‘çš„ client ç«¯å¯èƒ½åƒè®Šè¬åŒ–ï¼Œä¾‹å¦‚æˆ‘é€™ä½éŠç‰§æ°‘æ—å¹³å¸¸åœ¨åŒ—éƒ¨å°±ç”¨ä¸€ç¨® MacOSï¼Œå›è€å®¶å°±æœƒç”¨å¦ä¸€å€‹OSï¼›åœ¨æŸå€‹ lab æˆ‘å¼·è¿«è‡ªå·±ç”¨ PhotonOSï¼Œå…¶ä»– lab æˆ‘ç”¨ç¿’æ…£çš„ Ubuntu ä¹‹é¡çš„ã€‚</p><p>ä¿—è©±èªªæ²’è‡ªå‹•åŒ–ä¹Ÿè¦æœ‰æ‡¶äººåŒ…(ï¼Ÿ)ï¼Œä»¥ä¸‹å°±ç‚ºäº†è‡ªå·±æœé›†äº†å„ç¨®OSçš„æ†‘è­‰å®‰è£æŒ‡ä»¤ï¼š</p><h4 id="æ–°æ†‘è­‰-ca-crt"><a href="#æ–°æ†‘è­‰-ca-crt" class="headerlink" title="æ–°æ†‘è­‰ = ca.crt"></a>æ–°æ†‘è­‰ = ca.crt</h4><table><thead><tr><th>PhotonOS</th></tr></thead><tbody><tr><td>cat ca.crt &gt;&gt; /etc/pki/tls/certs/ca-bundle.crt</td></tr></tbody></table><table><thead><tr><th>MacOS Big Sur</th></tr></thead><tbody><tr><td>ç³»çµ±åå¥½è¨­å®š &gt; Apple ID &gt; Keychain æ‰“é–‹å¾Œï¼Œåˆ°app Keychain Access æ–°å¢æ†‘è­‰</td></tr></tbody></table><table><thead><tr><th>Mac OS X</th></tr></thead><tbody><tr><td>sudo security add-trusted-cert -d -r trustRoot -k /Library/Keychains/System.keychain ~/ca.crt</td></tr></tbody></table><table><thead><tr><th>Windows</th></tr></thead><tbody><tr><td>certutil -addstore -f â€œROOTâ€ ca.crt</td></tr></tbody></table><table><thead><tr><th>Ubuntu 18.04</th></tr></thead><tbody><tr><td>man update-ca-certificates</td></tr><tr><td>sudo cp ca.crt /usr/local/share/ca-certificates/</td></tr><tr><td>sudo update-ca-certificates</td></tr></tbody></table><table><thead><tr><th>Ubuntu</th></tr></thead><tbody><tr><td>cp ca.crt /usr/share/local/ca-certificates/ca.crt</td></tr><tr><td>sudo cp foo.crt /usr/share/local/ca-certificates/foo.crt</td></tr><tr><td>sudo update-ca-certificates</td></tr></tbody></table><table><thead><tr><th>CentOS 6</th></tr></thead><tbody><tr><td>yum install ca-certificates</td></tr><tr><td>update-ca-trust force-enable</td></tr><tr><td>cp ca.crt /etc/pki/ca-trust/source/anchors/ca.crt</td></tr><tr><td>update-ca-trust extract</td></tr></tbody></table><table><thead><tr><th>CentOs 5</th></tr></thead><tbody><tr><td>cat ca.crt &gt;&gt;/etc/pki/tls/certs/ca-bundle.crt</td></tr></tbody></table><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç¾åœ¨é€™ä¸–ä»£â€” é›²åŸç”Ÿ(Cloud Native) ä¸–ä»£ï¼Œå°±æ˜¯æˆ‘åœ¨å“ªè£¡ï½å·¥ä½œå°±åœ¨å“ªè£¡(â€¦) æ¬¸ä¸æ˜¯ï¼Œæ˜¯ server å°±åœ¨é‚£è£¡ï¼&lt;br&gt;é€™æ™‚å€™æˆ‘çš„ client ç«¯å¯èƒ½åƒè®Šè¬åŒ–ï¼Œä¾‹å¦‚æˆ‘é€™ä½éŠç‰§æ°‘æ—å¹³å¸¸åœ¨åŒ—éƒ¨å°±ç”¨ä¸€ç¨® MacOSï¼Œå›è€å®¶å°±æœƒç”¨å¦ä¸€å€‹OSï¼›åœ¨æŸå€‹ lab æˆ‘å¼·è¿«è‡ª</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="Ï†á¿¶Ï‚ å…‰é‡å­  Photon" scheme="https://sapphirelin.com/categories/work-hack/%CF%86%E1%BF%B6%CF%82-%E5%85%89%E9%87%8F%E5%AD%90-Photon/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="work hack" scheme="https://sapphirelin.com/tags/work-hack/"/>
    
    <category term="password" scheme="https://sapphirelin.com/tags/password/"/>
    
    <category term="photonOS" scheme="https://sapphirelin.com/tags/photonOS/"/>
    
    <category term="photon OS" scheme="https://sapphirelin.com/tags/photon-OS/"/>
    
    <category term="CA certification" scheme="https://sapphirelin.com/tags/CA-certification/"/>
    
    <category term="phÃ´s" scheme="https://sapphirelin.com/tags/phos/"/>
    
    <category term="Ï†á¿¶Ï‚" scheme="https://sapphirelin.com/tags/%CF%86%E1%BF%B6%CF%82/"/>
    
  </entry>
  
  <entry>
    <title>ç„¡æ³•éƒ¨ç½² TKC è§£æ³• | Content Libary æ†‘è­‰ç½®æ›</title>
    <link href="https://sapphirelin.com/20210723-%E7%84%A1%E6%B3%95%E9%83%A8%E7%BD%B2-TKC-%E8%A7%A3%E6%B3%95-Content-Libary-%E6%86%91%E8%AD%89%E7%BD%AE%E6%8F%9B/"/>
    <id>https://sapphirelin.com/20210723-%E7%84%A1%E6%B3%95%E9%83%A8%E7%BD%B2-TKC-%E8%A7%A3%E6%B3%95-Content-Libary-%E6%86%91%E8%AD%89%E7%BD%AE%E6%8F%9B/</id>
    <published>2021-07-23T15:53:55.000Z</published>
    <updated>2022-02-22T13:11:58.242Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å•é¡Œç™¼ç¾"><a href="#å•é¡Œç™¼ç¾" class="headerlink" title="/ å•é¡Œç™¼ç¾ /"></a>/ å•é¡Œç™¼ç¾ /</h2><h3 id="ç—‡ç‹€-éŒ¯èª¤è¨Šæ¯"><a href="#ç—‡ç‹€-éŒ¯èª¤è¨Šæ¯" class="headerlink" title="ç—‡ç‹€ (éŒ¯èª¤è¨Šæ¯)"></a>ç—‡ç‹€ (éŒ¯èª¤è¨Šæ¯)</h3><p>åŸæœ¬ vSphere with Tanzu ç’°å¢ƒéƒ½å¥½å¥½çš„ï¼ŒæŸå¤©éƒ¨ç½²æ–° TKC ä¸€ç›´ä¸æˆåŠŸã€‚<br>ï¼ˆç‹€æ…‹ä¸€ç›´åœåœ¨ creating ï¼Œä»¥åŠ control-plane VM ç„¡æ³•é–‹æ©Ÿï¼‰</p><p>ç›¸é—œ error message :</p><blockquote><p>HTTP request error: cannot authenticate SSL certificate for host wp-content.vmware.com.</p></blockquote><p>æˆ–å¦‚ä¸‹åœ–ï¼š</p><blockquote><p><img src="https://i.imgur.com/VMDdzS6.png"></p></blockquote><h3 id="æ‚£è€…-æœƒç™¼ç”Ÿçš„ç’°å¢ƒ"><a href="#æ‚£è€…-æœƒç™¼ç”Ÿçš„ç’°å¢ƒ" class="headerlink" title="æ‚£è€… (æœƒç™¼ç”Ÿçš„ç’°å¢ƒ)"></a>æ‚£è€… (æœƒç™¼ç”Ÿçš„ç’°å¢ƒ)</h3><p> Content Libary åˆ©ç”¨è¨‚é–±æ–¹å¼ä¸‹è¼‰ <a href="https://wp-content.vmware.com/v2/latest/lib.json">Tanzu Kubernetes Release(TKR)</a> çš„ Tanzu ç’°å¢ƒ</p><h3 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h3><p>åœ¨ 6/29 çš„æ™‚å€™ VMware å°‡ <a href="https://wp-content.vmware.com/v2/latest/lib.json">library</a> æ›´æ›äº†æ†‘è­‰ï¼Œä¸éæˆ‘è‡ªå·±åœ°ç«¯ SSL thumbprint åœç•™åœ¨ä¸Šä¸€å¼µï¼Œå°è‡´æ²’è¾¦æ³•æ‹‰æ–°çš„ OVA ä¸‹ä¾†éƒ¨ç½² TKCã€‚</p><h2 id="è§£æ±ºæ–¹æ¡ˆ"><a href="#è§£æ±ºæ–¹æ¡ˆ" class="headerlink" title="/ è§£æ±ºæ–¹æ¡ˆ /"></a>/ è§£æ±ºæ–¹æ¡ˆ /</h2><p>æŠŠæ†‘è­‰æ›æ–°ï¼</p><h3 id="1-SSH-é€²å…¥-VCSA"><a href="#1-SSH-é€²å…¥-VCSA" class="headerlink" title="1. SSH é€²å…¥ VCSA"></a>1. SSH é€²å…¥ VCSA</h3><p>ä»¥ <code>root</code> æ¬Šé™ç™»å…¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">login as: root</span><br><span class="line">Pre-authentication banner message from server:</span><br><span class="line">|</span><br><span class="line">| VMware vCenter Server 7.0.2.00200</span><br><span class="line">|</span><br><span class="line">| Type: vCenter Server with an embedded Platform Services Controller</span><br><span class="line">|</span><br><span class="line">End of banner message from server</span><br><span class="line">root@vcsa-01.haas-461.pez.vmware.com&#x27;s password:</span><br><span class="line">    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">    â”‚                 â€¢ MobaXterm Personal Edition v21.2 â€¢                 â”‚</span><br><span class="line">    â”‚               (SSH client, X server and network tools)               â”‚</span><br><span class="line">    â”‚                                                                      â”‚</span><br><span class="line">    â”‚ â¤ SSH session to root@vcsa-01.haas-461.pez.vmware.com                â”‚</span><br><span class="line">    â”‚   â€¢ Direct SSH      :  âœ”                                             â”‚</span><br><span class="line">    â”‚   â€¢ SSH compression :  âœ”                                             â”‚</span><br><span class="line">    â”‚   â€¢ SSH-browser     :  âœ”                                             â”‚</span><br><span class="line">    â”‚   â€¢ X11-forwarding  :  âœ˜  (disabled or not supported by server)      â”‚</span><br><span class="line">    â”‚                                                                      â”‚</span><br><span class="line">    â”‚ â¤ For more info, ctrl+click on help or visit our website.            â”‚</span><br><span class="line">    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line"></span><br><span class="line">Connected to service</span><br><span class="line"></span><br><span class="line">    * List APIs: &quot;help api list&quot;</span><br><span class="line">    * List Plugins: &quot;help pi list&quot;</span><br><span class="line">    * Launch BASH: &quot;shell&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-åˆ‡æ›åˆ°-Shell"><a href="#2-åˆ‡æ›åˆ°-Shell" class="headerlink" title="2. åˆ‡æ›åˆ° Shell"></a>2. åˆ‡æ›åˆ° Shell</h3><blockquote><p>åƒè€ƒï¼š <a href="https://kb.vmware.com/s/article/2100508">Toggling the vCenter Server Appliance default shell</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Command&gt; shell</span><br><span class="line">Shell access is granted to root</span><br><span class="line">root@vcsa-01 [ ~ ]# </span><br></pre></td></tr></table></figure><h3 id="3-åˆ—å‡º-content-library"><a href="#3-åˆ—å‡º-content-library" class="headerlink" title="3. åˆ—å‡º content library"></a>3. åˆ—å‡º content library</h3><p>æŒ‡ä»¤ï¼š <code>dcli com vmware content library list</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@vcsa-01 [ ~ ]# dcli com vmware content library list</span><br><span class="line">Username: administrator@vsphere.local</span><br><span class="line">Password: *******************</span><br><span class="line">Do you want to save credentials in the credstore? (y or n) [y]:y</span><br><span class="line">- ebcdc3f6-4daa-4a6d-8f2e-ea169ec2dc17</span><br><span class="line">- 93ef8dba-3f93-4cad-a7a3-23f09569d16f</span><br><span class="line">- 7613fdb9-dd31-4096-ab7d-b1a637713865</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šï¼Œå¯ä»¥çœ‹åˆ°æˆ‘çš„ç’°å¢ƒæœ‰ 3 å€‹ content library</p><h3 id="4-ä¾åºæŸ¥çœ‹ï¼Œæ‰¾åˆ°è¨‚é–±-TKR-çš„-content-library"><a href="#4-ä¾åºæŸ¥çœ‹ï¼Œæ‰¾åˆ°è¨‚é–±-TKR-çš„-content-library" class="headerlink" title="4. ä¾åºæŸ¥çœ‹ï¼Œæ‰¾åˆ°è¨‚é–± TKR çš„ content library"></a>4. ä¾åºæŸ¥çœ‹ï¼Œæ‰¾åˆ°è¨‚é–± TKR çš„ content library</h3><p>æŒ‡ä»¤ï¼š <code>dcli com vmware content library get --library-id &lt;è¼¸å…¥content libary id&gt;</code><br>æ‰¾è£¡é¢è¨‚é–±ç¶²å€ç‚ºï¼š <a href="https://wp-content.vmware.com/v2/latest/lib.json">https://wp-content.vmware.com/v2/latest/lib.json</a><br>å¦‚ä¸‹åœ–ï¼Œåœ¨æˆ‘çš„ç’°å¢ƒä¸­ <code>93ef8dba-3f93-4cad-a7a3-23f09569d16f</code> é€™å¼µæ‰æ˜¯TKR:<br><img src="https://i.imgur.com/LjBJIeg.png"><br>å¯ä»¥çœ‹åˆ°æˆ‘çš„æ˜¯èˆŠçš„ <code>BA:C6:4E:D9:AD:D4:53:B5:86:5A:5D:70:36:CF:89:93:D1:6C:F9:63</code></p><h3 id="5-ç½®æ›æ†‘è­‰"><a href="#5-ç½®æ›æ†‘è­‰" class="headerlink" title="5. ç½®æ›æ†‘è­‰"></a>5. ç½®æ›æ†‘è­‰</h3><p>æ›æˆæ–°çš„æ†‘è­‰æŒ‡ç´‹ <code>01:8d:fd:13:a6:9e:ca:ac:cb:7c:67:18:c1:47:11:8c:64:91:5d:c9</code>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@vcsa-01 [ ~ ]# dcli com vmware content subscribedlibrary update --library-id 93ef8dba-3f93-4cad-a7a3-23f09569d16f --subscription-info-ssl-thumbprint &#x27;01:8d:fd:13:a6:9e:ca:ac:cb:7c:67:18:c1:47:11:8c:64:91:5d:c9&#x27;</span><br><span class="line">root@vcsa-01 [ ~ ]#</span><br></pre></td></tr></table></figure><h3 id="å®Œæˆï¼"><a href="#å®Œæˆï¼" class="headerlink" title="å®Œæˆï¼"></a>å®Œæˆï¼</h3><div class="owl-media owl-image owl-giphy"><img src="https://media.giphy.com/media/46hoyBGHiuNWmvePej/giphy.gif"></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å•é¡Œç™¼ç¾&quot;&gt;&lt;a href=&quot;#å•é¡Œç™¼ç¾&quot; class=&quot;headerlink&quot; title=&quot;/ å•é¡Œç™¼ç¾ /&quot;&gt;&lt;/a&gt;/ å•é¡Œç™¼ç¾ /&lt;/h2&gt;&lt;h3 id=&quot;ç—‡ç‹€-éŒ¯èª¤è¨Šæ¯&quot;&gt;&lt;a href=&quot;#ç—‡ç‹€-éŒ¯èª¤è¨Šæ¯&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="é‚£æ ¹æ¨¹æ Tanzu" scheme="https://sapphirelin.com/categories/work-hack/%E9%82%A3%E6%A0%B9%E6%A8%B9%E6%9E%9D-Tanzu/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="work hack" scheme="https://sapphirelin.com/tags/work-hack/"/>
    
    <category term="Tanzu" scheme="https://sapphirelin.com/tags/Tanzu/"/>
    
    <category term="ssh" scheme="https://sapphirelin.com/tags/ssh/"/>
    
    <category term="troubleshooting" scheme="https://sapphirelin.com/tags/troubleshooting/"/>
    
    <category term="ssl thumbprint" scheme="https://sapphirelin.com/tags/ssl-thumbprint/"/>
    
  </entry>
  
  <entry>
    <title>TKC ä½¿ç”¨ä¸åŒ Harbor æ†‘è­‰æ–¹å¼ | ç§å€‰(harbor)çš„æ¬Šé™éš”é›¢</title>
    <link href="https://sapphirelin.com/20210719-TKC-%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C-Harbor-%E6%86%91%E8%AD%89%E6%96%B9%E5%BC%8F-%E7%A7%81%E5%80%89-harbor-%E7%9A%84%E6%AC%8A%E9%99%90%E9%9A%94%E9%9B%A2/"/>
    <id>https://sapphirelin.com/20210719-TKC-%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C-Harbor-%E6%86%91%E8%AD%89%E6%96%B9%E5%BC%8F-%E7%A7%81%E5%80%89-harbor-%E7%9A%84%E6%AC%8A%E9%99%90%E9%9A%94%E9%9B%A2/</id>
    <published>2021-07-19T11:12:11.000Z</published>
    <updated>2022-02-22T13:12:54.559Z</updated>
    
    <content type="html"><![CDATA[<h2 id="vSphere-with-Tanzu-TKC-ä½¿ç”¨ä¸åŒ-Harbor-æ†‘è­‰åšåˆ°æ¬Šé™éš”é›¢"><a href="#vSphere-with-Tanzu-TKC-ä½¿ç”¨ä¸åŒ-Harbor-æ†‘è­‰åšåˆ°æ¬Šé™éš”é›¢" class="headerlink" title="vSphere with Tanzu TKC ä½¿ç”¨ä¸åŒ Harbor æ†‘è­‰åšåˆ°æ¬Šé™éš”é›¢"></a>vSphere with Tanzu TKC ä½¿ç”¨ä¸åŒ Harbor æ†‘è­‰åšåˆ°æ¬Šé™éš”é›¢</h2><p>ä»¥å‰›é‚å…¥å¾®æœå‹™åŒ–éšæ®µçš„ä¼æ¥­ä¾†èªªï¼Œåœ¨ä¸€çµ„SDDCå…±ç”¨ä¸€å°ç§å€‰çš„ç‹€æ³æ˜¯éå¸¸æ–¹ä¾¿ä¸Šæ‰‹åˆå¥½ç®¡ç†çš„ã€‚åœ¨ VMware Tanzu å¹³å°ï¼Œè‹¥è£åœ¨VCFä¸Šï¼Œæœ‰äº†NSXçš„å¹«åŠ©ï¼Œä¸ç”¨å€‹åˆ¥å®‰è£ï¼Œé»é¸å°±èƒ½å•Ÿç”¨ Harborï¼Œä¸¦ä¸”æ˜¯ä»¥ namespace ä¾†é€²è¡Œéš”é›¢çš„å¤§æ¬Šé™æ§ç®¡ç§å€‰ã€‚</p><blockquote><p>åƒè€ƒé–±è®€ï¼š<br><a href="https://docs.vmware.com/tw/VMware-vSphere/7.0/vmware-vsphere-with-tanzu/GUID-AE24CF79-3C74-4CCD-B7C7-757AD082D86A.html">ä¸€éµå•Ÿç”¨ Embedded Harbor (å¯åˆ‡æ›èªç³»ç‚ºä¸­æ–‡)</a><br>æ•´åº§é›²é€šç”¨æ†‘è­‰çš„æ”¾æ³• <a href="/20210716-Tanzu-%E9%8F%A1%E5%83%8F%E5%80%89%E5%BA%AB%E6%86%91%E8%AD%89%E5%AE%89%E8%A3%9D%E6%B3%95/">vSphere 7 embedded or external Harbor æ†‘è­‰å®‰è£æ³•</a></p></blockquote><p>ä¸éä¸€å®šæœ‰å·²ç¶“å€‹åˆ¥åœ˜éšŠåœ¨æ‡‰ç”¨å¾®æœå‹™çš„ä¼æ¥­ï¼Œå› æ‡‰é€™å¹¾å¹´éƒ½è¦é›†ä¸­åŒ–ç®¡ç†ã€æ•´åˆè³‡æºï¼ˆæ–·æ¨é›¢ï½ï¼‰<br>åŸæœ¬å„å€‹ team éƒ½åœ¨ç¶­è­·è‡ªå·±çš„ K8s ï¼Œç¾åœ¨è¦æ¬ä¸Šä¾†ä¸€å€‹å¤§å¹³å°çµ±ä¸€ç”±SRE ç®¡ç†ï¼Œæ¯å€‹çµ„ç¹”å„è‡ªçš„ Harbor ï¼Œæˆ–è€…èªªæœ¬ä¾†å°±åœ¨æ”¿ç­–ä¸Šå°±è¦è¦ç¯„æŸå€‹R&amp;D team åªèƒ½é€£ä¸Šå–®ç¨çš„ç§å€‰ï¼ˆæ¬Šé™æ§ç®¡ï¼‰</p><p>é€™æ™‚å€™é€é Tanzu å®¹å™¨é›²å¹³å°å°±å¾ˆèƒ½ç°¡å–®å¯¦ç¾å•¦ï½</p><h3 id="æ–°å»ºcluster"><a href="#æ–°å»ºcluster" class="headerlink" title="/ æ–°å»ºcluster /"></a>/ æ–°å»ºcluster /</h3><p>åœ¨ç‚ºè©² team å‰µå»º guest cluster çš„æ™‚å€™åŠ ä¸Š additionalTrustedCAs å°±è¡Œå›‰ï¼</p><p>éƒ¨ç½²çš„ yaml æª”æ¡ˆï¼Œçœ‹ç¬¬20~23è¡Œï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">run.tanzu.vmware.com/v1alpha1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">TanzuKubernetesCluster</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">tkc-1</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">demo</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">distribution:</span></span><br><span class="line">    <span class="attr">version:</span> <span class="string">v1.18.5</span></span><br><span class="line">  <span class="attr">settings:</span></span><br><span class="line">    <span class="attr">network:</span></span><br><span class="line">      <span class="attr">cni:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">antrea</span></span><br><span class="line">      <span class="attr">pods:</span></span><br><span class="line">        <span class="attr">cidrBlocks:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">193.1</span><span class="number">.0</span><span class="number">.0</span><span class="string">/16</span></span><br><span class="line">      <span class="attr">serviceDomain:</span> <span class="string">shared.vsphere.local</span></span><br><span class="line">      <span class="attr">services:</span></span><br><span class="line">        <span class="attr">cidrBlocks:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">195.128</span><span class="number">.0</span><span class="number">.0</span><span class="string">/12</span></span><br><span class="line">      <span class="attr">trust:</span></span><br><span class="line">        <span class="attr">additionalTrustedCAs:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">data:</span> <span class="string">$&#123;é€ébase64åŠ å¯†çš„æ†‘è­‰&#125;</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">$&#123;æ†‘è­‰åç¨±&#125;</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure><p>ç¯„ä¾‹ï¼š<br><img src="https://i.imgur.com/gUMV6EE.png" alt="TanzuKubernetesCluster yaml"></p><p>ç™»å…¥åˆ°é‚£å°TKC control plane node å¾Œï¼Œé€²å» <code>/etc/ssl/certs/</code> å°±æœƒç™¼ç¾æœ‰ rootca æª”æ¡ˆå•¦ï¼<br><img src="https://i.imgur.com/hcKzcvg.png"></p><p>å„å€‹ç’°å¢ƒä¸åŒï¼Œå¦‚æœåœ¨ä¸€å°k8s node æœ‰å¤šç§Ÿæˆ¶å•é¡Œï¼Œè¨˜å¾—ä¸Ÿåˆ° <code>/usr/share/ca-certificates/</code><br>æˆ–åƒè€ƒæˆ‘ç­†è¨˜çš„<a href="/20210724-Photon-OS-%E5%8F%8A%E5%85%B6%E4%BB%96%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1%E6%86%91%E8%AD%89%E5%AE%89%E8%A3%9D%E6%B3%95/">å„OSæ”¾æ†‘è­‰çš„æ–¹æ³•åŠè·¯å¾‘</a></p><h3 id="æ—¢æœ‰cluster"><a href="#æ—¢æœ‰cluster" class="headerlink" title="/ æ—¢æœ‰cluster /"></a>/ æ—¢æœ‰cluster /</h3><p>æˆ‘ä¹‹å‰æ˜¯ä¸€å€‹ä¸€å€‹å¡å•¦ï¼Œæ²’éŒ¯ï¼Œä¸€å°ä¸€å°ç™»é€²å»copy paste â€¦ (Â´ï¼¡ï½€;)<br>æ„Ÿè¬å¤¥ä¼´åˆ†äº«æˆ‘ <a href="https://gist.githubusercontent.com/shawnho1018/9fd2282b747cc1129f37ac74f79645a0/raw/b014d242051b54a99584e8fb83d42c39e12ee43c/guest-cluster-trust-harbor.sh">Shawn Ho å¤§å¤§å¯«çš„ Script</a> ï¼Œè·‘ä¸€å€‹ for è¿´åœˆåŸ·è¡Œï¼Œç°¡ç°¡å–®å–®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ips=$(kubectl get virtualmachines -n demo -o json | grep &quot;vmIp&quot;  | awk -F &#x27;:&#x27; &#x27;&#123;print $2&#125;&#x27; | sed &#x27;s/&quot;//g&#x27;)</span><br><span class="line"></span><br><span class="line">for i in $&#123;ips&#125;; do</span><br><span class="line">  scp -i tkc-1-ssh-key harbor.crt vmware-system-user@$&#123;i&#125;:/home/vmware-system-user/harbor.crt</span><br><span class="line">  ssh -i tkc-1-ssh-key vmware-system-user@$&#123;i&#125; &quot;sudo mkdir -p /etc/docker/certs.d/172.18.30.80; sudo mv ~/harbor.crt /etc/docker/certs.d/172.18.30.80/ca.crt&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æˆ‘çš„ ${namespace} = demo, ${gcname} = tkc-1, ${harborip}=172.18.30.80ï¼Œè¨˜å¾—è®Šæ•¸è¦æ”¹æˆè‡ªå·±çš„ç’°å¢ƒã€‚ä¹Ÿæ­¡è¿å¤§å®¶åƒé–±Shawn å¤§çš„åŸæ–‡ï¼š  <a href="https://medium.com/%E8%BC%95%E9%AC%86%E5%B0%8F%E5%93%81-pks%E8%88%87k8s%E7%9A%84%E9%BB%9E%E6%BB%B4/vsphere7%E7%9A%84harbor%E8%B3%87%E6%BA%90-%E5%9F%BA%E7%A4%8E%E4%BD%BF%E7%94%A8%E7%AF%87-ea4ce622c93f#6ea4">vSphere7çš„Harborè³‡æº â€” åŸºç¤ä½¿ç”¨ç¯‡</a></p><hr><p>ä»¥ä¸Šåˆ†äº«æ–°å»ºæˆ–æ˜¯åŒ¯å…¥å·²å­˜åœ¨çš„cluster ä¸²æ¥æ†‘è­‰çš„æ–¹å¼ï¼Œè®“æˆ‘å€‘å®‰å®‰å…¨å…¨çš„pull push imageåˆ°ç§å€‰ï¼Œå°ˆæ³¨åœ¨é–‹ç™¼ä¸Šå§ï½</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;vSphere-with-Tanzu-TKC-ä½¿ç”¨ä¸åŒ-Harbor-æ†‘è­‰åšåˆ°æ¬Šé™éš”é›¢&quot;&gt;&lt;a href=&quot;#vSphere-with-Tanzu-TKC-ä½¿ç”¨ä¸åŒ-Harbor-æ†‘è­‰åšåˆ°æ¬Šé™éš”é›¢&quot; class=&quot;headerlink&quot; title=&quot;vSpher</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="é‚£æ ¹æ¨¹æ Tanzu" scheme="https://sapphirelin.com/categories/work-hack/%E9%82%A3%E6%A0%B9%E6%A8%B9%E6%9E%9D-Tanzu/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="Tanzu" scheme="https://sapphirelin.com/tags/Tanzu/"/>
    
    <category term="harbor" scheme="https://sapphirelin.com/tags/harbor/"/>
    
    <category term="repository" scheme="https://sapphirelin.com/tags/repository/"/>
    
    <category term="cert" scheme="https://sapphirelin.com/tags/cert/"/>
    
    <category term="vSphere with Tanzu" scheme="https://sapphirelin.com/tags/vSphere-with-Tanzu/"/>
    
  </entry>
  
  <entry>
    <title>Hexo å¸¸ç”¨æŒ‡ä»¤</title>
    <link href="https://sapphirelin.com/20210718-Hexo-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4-Hexo-%E7%B6%B2%E7%AB%99%E7%A7%98%E7%AC%88/"/>
    <id>https://sapphirelin.com/20210718-Hexo-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4-Hexo-%E7%B6%B2%E7%AB%99%E7%A7%98%E7%AC%88/</id>
    <published>2021-07-18T09:21:24.000Z</published>
    <updated>2021-07-23T16:00:58.742Z</updated>
    
    <content type="html"><![CDATA[<p>å€‹äººç­†è¨˜ã€‚</p><p>Hereâ€™s my personal cheat sheet</p><h3 id="hexo"><a href="#hexo" class="headerlink" title="/ hexo /"></a>/ hexo /</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hexo clean   # cleans the cache file (db.json)</span><br><span class="line">hexo g       # generate static files</span><br><span class="line">hexo s       # starts a local server</span><br><span class="line">hexo d       # deploy to github</span><br><span class="line">hexo g -d    # deploy after generation finishes</span><br><span class="line"></span><br><span class="line">hexo new &lt;post-title&gt;       # create new post</span><br><span class="line">hexo new page &lt;page-title&gt;  # create new page</span><br></pre></td></tr></table></figure><h3 id="post"><a href="#post" class="headerlink" title="/ post /"></a>/ <a href="https://butterfly.js.org/posts/dc584b87/">post</a> /</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% inlineImg https://xxx.png 150px %&#125;</span><br><span class="line">&#123;% label text color %&#125;</span><br></pre></td></tr></table></figure><h3 id="page"><a href="#page" class="headerlink" title="/ page /"></a>/ page /</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab ç¬¬ä¸€å€‹Tab --&gt;</span><br><span class="line">**tabåå­—ç‚ºç¬¬ä¸€å€‹Tab**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line">**åªæœ‰åœ–æ¨™ æ²’æœ‰Tabåå­—**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab ç‚¸å½ˆ@fas fa-bomb --&gt;</span><br><span class="line">**åå­—+icon**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideToggle æ¨™é¡Œ %&#125;</span><br><span class="line">å…§å®¹å…§å®¹</span><br><span class="line">å…§å®¹å…§å®¹å…§å®¹å…§å®¹</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br></pre></td></tr></table></figure><h3 id="plugins"><a href="#plugins" class="headerlink" title="/ plugins /"></a>/ plugins /</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% owl giphy XmiTYLQ5qXTqM %&#125;</span><br><span class="line">&#123;% owl local img/img.jpg %&#125;</span><br><span class="line">&#123;% owl local another-img.gif %&#125;</span><br><span class="line">&#123;% owl youtube YtuAOT_c2EA %&#125;</span><br><span class="line">&#123;% owl niconico sm1494658 %&#125;</span><br><span class="line">&#123;% owl niconico sm1494658 watch %&#125;</span><br><span class="line">&#123;% owl bilibili av247371 %&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å€‹äººç­†è¨˜ã€‚&lt;/p&gt;
&lt;p&gt;Hereâ€™s my personal cheat sheet&lt;/p&gt;
&lt;h3 id=&quot;hexo&quot;&gt;&lt;a href=&quot;#hexo&quot; class=&quot;headerlink&quot; title=&quot;/ hexo /&quot;&gt;&lt;/a&gt;/ hexo /&lt;/h3&gt;&lt;figur</summary>
      
    
    
    
    <category term="life hack" scheme="https://sapphirelin.com/categories/life-hack/"/>
    
    <category term="æ¶ç«™ç´€éŒ„" scheme="https://sapphirelin.com/categories/life-hack/%E6%9E%B6%E7%AB%99%E7%B4%80%E9%8C%84/"/>
    
    
    <category term="hexo" scheme="https://sapphirelin.com/tags/hexo/"/>
    
    <category term="personal website" scheme="https://sapphirelin.com/tags/personal-website/"/>
    
  </entry>
  
  <entry>
    <title>å¾é›¶é–‹å§‹ 10åˆ†é˜å»ºå¥½ github + hexo å€‹äººç¶²ç«™</title>
    <link href="https://sapphirelin.com/20210717-%E5%BE%9E%E9%9B%B6%E9%96%8B%E5%A7%8B-10%E5%88%86%E9%90%98%E5%BB%BA%E5%A5%BD-github-hexo-%E5%80%8B%E4%BA%BA%E7%B6%B2%E7%AB%99/"/>
    <id>https://sapphirelin.com/20210717-%E5%BE%9E%E9%9B%B6%E9%96%8B%E5%A7%8B-10%E5%88%86%E9%90%98%E5%BB%BA%E5%A5%BD-github-hexo-%E5%80%8B%E4%BA%BA%E7%B6%B2%E7%AB%99/</id>
    <published>2021-07-17T14:28:44.000Z</published>
    <updated>2022-02-22T15:26:17.355Z</updated>
    
    <content type="html"><![CDATA[<p>å¤ªæ¼‚äº®ä¹Ÿå¤ªç¥å¥‡äº†å•¦å•Šå•Šå•Šå•Š!!!!<br>çœŸçš„æ˜¯è¶…æ–¹ä¾¿ä¸¦ä¸”è¶…å¿«é€Ÿå°±èƒ½å»ºå¥½çš„ç¶²ç«™å‘¢!!!<br><del>ä»”ç´°æƒ³æƒ³æ˜¯å¹³å¸¸æœ‰æ›´è¤‡é›œçš„æ–‡ä»¶è®“æˆ‘çœ‹ï¼Œè¢«è¿«é£†é€Ÿç·´ç­‰</del><br>é‚£å°±è®“æˆ‘ä¾†é€Ÿé€Ÿå‚³æˆå»ºç½®ç§˜ç¬ˆï¼Œ letâ€™s go~</p><div class="owl-media owl-image owl-giphy"><img src="https://media.giphy.com/media/XmiTYLQ5qXTqM/giphy.gif"></div><h2 id="æœ¬æ©Ÿç’°å¢ƒæº–å‚™"><a href="#æœ¬æ©Ÿç’°å¢ƒæº–å‚™" class="headerlink" title="/ æœ¬æ©Ÿç’°å¢ƒæº–å‚™ /"></a>/ æœ¬æ©Ÿç’°å¢ƒæº–å‚™ /</h2><ol><li>å®‰è£ <a href="https://nodejs.org/en/">Node.js</a> ï¼Œé¸LTSç‰ˆæœ¬<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">This package has installed:</span><br><span class="line">    â€¢    Node.js v14.17.3 to /usr/local/bin/node</span><br><span class="line">    â€¢    npm v6.14.13 to /usr/local/bin/npm</span><br><span class="line">Make sure that /usr/local/bin is in your $PATH.</span><br></pre></td></tr></table></figure>MacOS å‰‡å…ˆå®‰è£ <a href="https://brew.sh/">Homebrew</a></li></ol> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">==&gt; Installation successful!</span><br><span class="line"></span><br><span class="line">==&gt; Homebrew has enabled anonymous aggregate formulae and cask analytics.</span><br><span class="line">Read the analytics documentation (and how to opt-out) here:</span><br><span class="line">  https://docs.brew.sh/Analytics</span><br><span class="line">No analytics data has been sent yet (or will be during this `install` run).</span><br><span class="line"></span><br><span class="line">==&gt; Homebrew is run entirely by unpaid volunteers. Please consider donating:</span><br><span class="line">  https://github.com/Homebrew/brew#donations</span><br><span class="line"></span><br><span class="line">==&gt; Next steps:</span><br><span class="line">- Run `brew help` to get started</span><br><span class="line">- Further documentation: </span><br><span class="line">    https://docs.brew.sh</span><br><span class="line">lyahsuan@lyahsuan-a01 ~ % brew install node</span><br></pre></td></tr></table></figure><blockquote><p>è‹¥ç’°å¢ƒæœ‰å¤šå€‹Nodejsï¼Œåˆ°<a href="https://hsiangfeng.github.io/nodejs/20200124/3404456418/">é€™é‚Š</a>åƒè€ƒè£nvm æ§ç®¡</p></blockquote><ol start="2"><li><p>å®‰è£ <a href="http://git-scm.com/downloads">Git</a> ï¼ŒXcode å…§å»ºäº†æ‰€ä»¥æˆ‘æ²’è£<br>ä½¿ç”¨æ–¹å¼å¯ä»¥åƒè€ƒï¼š <a href="https://www.appcoda.com.tw/git-xcode/">ç¨‹å¼ç¢¼æ™‚å…‰æ©Ÿï¼šæ‡‰ç”¨ Git ç‰ˆæœ¬æ§åˆ¶ï¼Œå³ä½¿çŠ¯éŒ¯ä¹Ÿä¸æ€•</a></p></li><li><p>Xcode é€£æ¥ GitHub å¸³è™Ÿ<br>ä¸²æ¥åƒè€ƒï¼š <a href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/xcode%E5%BB%BA%E7%AB%8Bgithub%E5%B8%B3%E8%99%9F-26e0da5d8b92">Use git in Xcode. Xcodeå»ºç«‹GitHubå¸³è™Ÿ</a><br>è¼¸å…¥ä¸‹åˆ—æŒ‡ä»¤æª¢æŸ¥æœ‰æ²’æœ‰å‡ºç¾ç‰ˆæœ¬è™Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ node -v</span><br><span class="line">$ npm -v</span><br><span class="line">$ git --version</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>MacOS å‡ºäº‹å¯ä»¥åƒè€ƒ (MAC zsh: command not found: hexo)[<a href="https://biubiuliu.gitee.io/blog/2020/07/01/notFoundHexo/]">https://biubiuliu.gitee.io/blog/2020/07/01/notFoundHexo/]</a></p></blockquote><ol start="4"><li> æ‰“é–‹Terminalï¼Œä¿®æ”¹ npm é è¨­è·¯å¾‘</li><li>1 åƒè€ƒ <a href="https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally">é€™ä»½æ–‡ä»¶</a> çš„æ­¥é©Ÿ2~3å¾Œä¸‹é€™å€‹æŒ‡ä»¤ï¼š<code>vi ~/.profile</code></li><li>2 é€²å…¥ç·¨è¼¯æ¨¡å¼å¾Œè²¼ä¸Šæ­¥é©Ÿ4çš„æŒ‡ä»¤</li><li>3 å¾ç·¨è¼¯æ¨¡å¼è·³å‡ºä¾† (esc &gt; è¼¸å…¥wq)ï¼Œå†è¼¸å…¥æ­¥é©Ÿ5ï¼ŒçµæŸã€‚</li></ol><ol start="5"><li>å‰µå»ºä¸€å€‹ç©ºè³‡æ–™å¤¾ï¼Œåƒæˆ‘å‘½åç‚º <code>blog</code>ï¼Œå¾…å¾ŒçºŒä½¿ç”¨ã€‚</li></ol><h2 id="Hexo-è£åœ¨æœ¬æ©Ÿ"><a href="#Hexo-è£åœ¨æœ¬æ©Ÿ" class="headerlink" title="/ Hexo è£åœ¨æœ¬æ©Ÿ /"></a>/ Hexo è£åœ¨æœ¬æ©Ÿ /</h2><ol><li>é–‹å§‹å®‰è£ï¼Œåƒè€ƒ<a href="https://hexo.io/zh-tw/docs/index.html">hexo</a> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br><span class="line">$ hexo -v</span><br></pre></td></tr></table></figure></li><li>æ¥è‘—è®“ hexo å®‰è£æª”æ¡ˆåˆ°ä½ çš„ç©ºè³‡æ–™å¤¾<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init &lt;è³‡æ–™å¤¾åç¨±&gt;</span><br><span class="line">$ cd &lt;è³‡æ–™å¤¾åç¨±&gt;</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure></li><li>ç¾åœ¨è³‡æ–™å¤¾å°±å‡ºç¾æ±è¥¿äº†ï¼Œè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤æ¸¬è©¦<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure></li><li>é–‹ç€è¦½å™¨ï¼Œåˆ° <a href="http://localhost:4000/">http://localhost:4000</a> ç™¼ç¾æœ‰å‡ºç¾æ±è¥¿ï¼Œå®Œæˆã€‚</li></ol><p><img src="https://i.imgur.com/Zy7gM6J.jpg"></p><h2 id="ä¸²æ¥åˆ°GitHub"><a href="#ä¸²æ¥åˆ°GitHub" class="headerlink" title="/ ä¸²æ¥åˆ°GitHub /"></a>/ ä¸²æ¥åˆ°GitHub /</h2><ol><li>å›åˆ° blog è³‡æ–™å¤¾<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li>å»ºç«‹é‡‘é‘°ï¼Œè¦ç”¨ä½ githubç™»å…¥çš„ email<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C &quot;é›»å­éƒµä»¶åœ°å€&quot;</span><br></pre></td></tr></table></figure></li><li>æª¢è¦–é‡‘é‘°åŒ™ï¼Œè¤‡è£½è²¼åˆ° <a href="https://github.com/settings/keys">Github SSH keys</a><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat ~/.ssh/id_rsa.pub </span><br></pre></td></tr></table></figure></li><li>æ¸¬è©¦é€£ç·šåˆ° <a href="mailto:&#x67;&#x69;&#x74;&#x40;&#x67;&#x69;&#116;&#104;&#117;&#98;&#x2e;&#99;&#x6f;&#109;">&#x67;&#x69;&#x74;&#x40;&#x67;&#x69;&#116;&#104;&#117;&#98;&#x2e;&#99;&#x6f;&#109;</a><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure></li><li>å‡ºç¾ <code>Hi sapphirelin! You&#39;ve successfully authenticated...</code> è¡¨ç¤ºå®Œæˆã€‚</li></ol><h2 id="ç™¼ä½ˆç¶²ç«™åˆ°å…¨ä¸–ç•Œ"><a href="#ç™¼ä½ˆç¶²ç«™åˆ°å…¨ä¸–ç•Œ" class="headerlink" title="/ ç™¼ä½ˆç¶²ç«™åˆ°å…¨ä¸–ç•Œ /"></a>/ ç™¼ä½ˆç¶²ç«™åˆ°å…¨ä¸–ç•Œ /</h2><ol><li><p>ä¿®æ”¹ <code>_config.yml</code> æª”æ¡ˆå…©å€‹åœ°æ–¹ï¼Œ<code>&lt;username&gt;</code> æ˜¯ä½ çš„ github å¸³è™Ÿï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://&lt;username&gt;.github.io</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:&lt;username&gt;/&lt;username&gt;.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure></li><li><p>å›åˆ° Terminal ä¸‹æŒ‡ä»¤</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure><ol start="3"><li>åˆ°ä½ çš„ https://<username>.github.io çœ‹çœ‹å§ï¼å®Œæˆå›‰</li></ol><p>æˆ‘å¾Œä¾†æ•´å€‹ç¶²ç«™ä¸Šç·šç¸½å…±å¤§ç´„èŠ±äº†8å°æ™‚å§ï¼Œä½†ä¸»è¦éƒ½åœ¨æ‰¾ä¸»é¡Œè·Ÿç¾åŒ–ç¶²ç«™~~~ ä¸€å¤©ä¸åˆ°å°±èƒ½ä¸Šç·šè‡ªå·±çš„å€‹äººç¶²ç«™çœŸçš„æ˜¯è¦å¤§å¤§è®šå˜†é€™å€‹æ¡†æ¶å‘€!!!!</p><hr><p><img src="https://i.imgur.com/IEThr8J.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¤ªæ¼‚äº®ä¹Ÿå¤ªç¥å¥‡äº†å•¦å•Šå•Šå•Šå•Š!!!!&lt;br&gt;çœŸçš„æ˜¯è¶…æ–¹ä¾¿ä¸¦ä¸”è¶…å¿«é€Ÿå°±èƒ½å»ºå¥½çš„ç¶²ç«™å‘¢!!!&lt;br&gt;&lt;del&gt;ä»”ç´°æƒ³æƒ³æ˜¯å¹³å¸¸æœ‰æ›´è¤‡é›œçš„æ–‡ä»¶è®“æˆ‘çœ‹ï¼Œè¢«è¿«é£†é€Ÿç·´ç­‰&lt;/del&gt;&lt;br&gt;é‚£å°±è®“æˆ‘ä¾†é€Ÿé€Ÿå‚³æˆå»ºç½®ç§˜ç¬ˆï¼Œ letâ€™s go~&lt;/p&gt;
&lt;div class=&quot;owl-media </summary>
      
    
    
    
    <category term="life hack" scheme="https://sapphirelin.com/categories/life-hack/"/>
    
    <category term="æ¶ç«™ç´€éŒ„" scheme="https://sapphirelin.com/categories/life-hack/%E6%9E%B6%E7%AB%99%E7%B4%80%E9%8C%84/"/>
    
    
    <category term="hexo" scheme="https://sapphirelin.com/tags/hexo/"/>
    
    <category term="personal website" scheme="https://sapphirelin.com/tags/personal-website/"/>
    
    <category term="å¿«é€Ÿå»ºç«™" scheme="https://sapphirelin.com/tags/%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%AB%99/"/>
    
  </entry>
  
  <entry>
    <title>æ­£å¼æ¬å®¶</title>
    <link href="https://sapphirelin.com/20210717-%E6%AD%A3%E5%BC%8F%E6%90%AC%E5%AE%B6/"/>
    <id>https://sapphirelin.com/20210717-%E6%AD%A3%E5%BC%8F%E6%90%AC%E5%AE%B6/</id>
    <published>2021-07-17T12:21:10.000Z</published>
    <updated>2022-02-22T15:56:17.249Z</updated>
    
    <content type="html"><![CDATA[<p>brand new sapphirelin.github.io !!</p><div class="owl-media owl-image owl-giphy"><img src="https://media.giphy.com/media/l0HUk3XWstjKCnvuo/giphy.gif"></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;brand new sapphirelin.github.io !!&lt;/p&gt;
&lt;div class=&quot;owl-media owl-image owl-giphy&quot;&gt;&lt;img src=&quot;https://media.giphy.com/media/l0HUk3XWstjKCnv</summary>
      
    
    
    
    <category term="life hack" scheme="https://sapphirelin.com/categories/life-hack/"/>
    
    <category term="æ¶ç«™ç´€éŒ„" scheme="https://sapphirelin.com/categories/life-hack/%E6%9E%B6%E7%AB%99%E7%B4%80%E9%8C%84/"/>
    
    
    <category term="ç‹¡å…”ä¸‰çªŸ" scheme="https://sapphirelin.com/tags/%E7%8B%A1%E5%85%94%E4%B8%89%E7%AA%9F/"/>
    
  </entry>
  
  <entry>
    <title>Tanzu é¡åƒå€‰åº«æ†‘è­‰å®‰è£æ³•</title>
    <link href="https://sapphirelin.com/20210716-Tanzu-%E9%8F%A1%E5%83%8F%E5%80%89%E5%BA%AB%E6%86%91%E8%AD%89%E5%AE%89%E8%A3%9D%E6%B3%95/"/>
    <id>https://sapphirelin.com/20210716-Tanzu-%E9%8F%A1%E5%83%8F%E5%80%89%E5%BA%AB%E6%86%91%E8%AD%89%E5%AE%89%E8%A3%9D%E6%B3%95/</id>
    <published>2021-07-16T11:12:11.000Z</published>
    <updated>2022-02-22T15:35:25.895Z</updated>
    
    <content type="html"><![CDATA[<h2 id="vSphere-with-Tanzu-ä½¿ç”¨-embedded-or-external-Harbor-æ–¹å¼"><a href="#vSphere-with-Tanzu-ä½¿ç”¨-embedded-or-external-Harbor-æ–¹å¼" class="headerlink" title="vSphere with Tanzu ä½¿ç”¨ embedded or external Harbor æ–¹å¼"></a>vSphere with Tanzu ä½¿ç”¨ embedded or external Harbor æ–¹å¼</h2><p>å·²ç¶“é–‹å§‹ç© Tanzu ä¸€é™£å­çš„æœ‹æœ‹å€‘ï¼Œæ‡‰è©²ä¸€ç›´éƒ½æœ‰ä¸€å€‹ç³¾çµæ˜¯ï¼Œembedded Harbor (å…§åµŒå¼ç§å€‰) ä¸€éµå•Ÿç”¨ã€å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯ä¸èƒ½éš¨æ„æ–°å¢å°ˆæ¡ˆï¼Œåªèƒ½è·Ÿè‘— namespace å‰µå»ºã€å½ˆæ€§ä¸é«˜ï¼›external Harbor (å¤–æ¥å¼ç§å€‰) å°±èƒ½éš¨å¿ƒæ‰€æ¬²ï¼Œä½†æ˜¯å°±è¦æŠŠæ†‘è­‰ä¸€å€‹ä¸€å€‹ä¸Ÿé€²å»æ¯ä¸€å° cluster node æ‰è¡Œã€‚</p><p>æ•´ç†ä¸€ä¸‹åŸæœ¬çš„æ­¥é©Ÿï¼š</p><blockquote><ol><li>ç™»é€²å»SC æ‹¿ secret ä¾† SSH é€²å» TKG nodes ï¼ˆ<a href="/20210713-%E6%9C%80%E9%80%9F%E7%99%BB%E5%85%A5Tanzu-guest-cluster-node-%E6%96%B9%E6%B3%95-%E9%80%B2%E5%8E%BB-TKC-%E7%AF%80%E9%BB%9E/">æœ€é€Ÿç™»å…¥ guest cluster node æ–¹æ³•</a>ï¼‰</li><li>æ‹¿ TKG cluster çš„ kubeconfig æª”æ¡ˆ</li><li>vsphere login é€²å» TKC</li><li>æ‹¿åˆ°æ¯å€‹ TKG nodes çš„ ip</li><li>ä¸Ÿæ†‘è­‰åˆ°æ¯ä¸€å€‹ TKG nodes ç„¶å¾Œé‚„è¦è¤‡è£½åˆ°æ¯ä¸€å°çš„æ†‘è­‰è·¯å¾‘</li><li>æ¯ä¸€å°é‡é–‹ docker ..^^</li></ol></blockquote><p>åˆ¥æ“”å¿ƒï¼Œåœ¨ vSphere with Tanzu 7 U2 ä¹‹å¾Œï¼Œå¯ä»¥é€éå®¢è£½åŒ– Supervisor Cluster (SC) çš„ <code>TkgServiceConfiguration</code> é€™éš»æœå‹™ï¼Œè®“å¡æ†‘è­‰é”åˆ°è®“è‡ªå‹•åŒ–ï¼š</p><hr><h3 id="æº–å‚™æ†‘è­‰"><a href="#æº–å‚™æ†‘è­‰" class="headerlink" title="/ æº–å‚™æ†‘è­‰ /"></a>/ æº–å‚™æ†‘è­‰ /</h3><p>å…©ç¨®æ–¹æ³• openssl or Harbor æœ¬èº«çš„ UI ã€‚</p><h4 id="ç¬¬ä¸€ç¨®ï¼ç”¨-openSSL-ï¼š"><a href="#ç¬¬ä¸€ç¨®ï¼ç”¨-openSSL-ï¼š" class="headerlink" title="ç¬¬ä¸€ç¨®ï¼ç”¨ openSSL ï¼š"></a>ç¬¬ä¸€ç¨®ï¼ç”¨ openSSL ï¼š</h4><ol><li><p>å…ˆå»é€£æˆ‘å€‘çš„ç§å€‰ Harbor</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl s_client -connect &lt;harbor url&gt;:443 </span><br></pre></td></tr></table></figure></li><li><p>è¤‡è£½æ†‘è­‰å€<br><img src="https://i.imgur.com/nB4a8e5.png"></p></li><li><p>ä¸‹ <code>echo &#39;è²¼ä¸Šä¸Šé¢è¤‡è£½çš„æ†‘è­‰&#39; | base64 </code> å¦‚ï¼š<br><img src="https://i.imgur.com/E8vPHMY.png"></p></li><li><p>æ‹¿åˆ°å›‰ï¼Harbor ç§å€‰çš„æ†‘è­‰ï¼ˆä¸‹é¢åç™½çš„é‚£æ®µï¼‰ï¼š<br><img src="https://i.imgur.com/FePrQxG.jpg"></p></li></ol><h3 id="ç¬¬äºŒç¨®ï¼-åˆ°-harbor-UI-ï¼š"><a href="#ç¬¬äºŒç¨®ï¼-åˆ°-harbor-UI-ï¼š" class="headerlink" title="ç¬¬äºŒç¨®ï¼ åˆ° harbor UI ï¼š"></a>ç¬¬äºŒç¨®ï¼ åˆ° harbor UI ï¼š</h3><p>åˆ°  project è£¡é¢ä¸‹è¼‰ (å¦‚åœ–)ï¼š<br><img src="https://i.imgur.com/O6osaYD.png"><br>æ‰“é–‹æª”æ¡ˆä¸€æ¨£å¾Œç”¨ä¸Šé¢ç¬¬3æ­¥çš„ base64 åŠ å¯†å°±è¡Œï½</p><hr><h3 id="é–‹å§‹"><a href="#é–‹å§‹" class="headerlink" title="/ é–‹å§‹ /"></a>/ é–‹å§‹ /</h3><h4 id="1-ç™»å…¥-Supervisor-Cluster-SC"><a href="#1-ç™»å…¥-Supervisor-Cluster-SC" class="headerlink" title="1. ç™»å…¥ Supervisor Cluster (SC)"></a>1. ç™»å…¥ Supervisor Cluster (SC)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl-vsphere login --vsphere-username user@domain.com --server=xxx.xxx.xxx.xxx</span><br></pre></td></tr></table></figure><h4 id="2-ä¿®æ”¹-TkgServiceConfiguration"><a href="#2-ä¿®æ”¹-TkgServiceConfiguration" class="headerlink" title="2. ä¿®æ”¹ TkgServiceConfiguration"></a>2. ä¿®æ”¹ <code>TkgServiceConfiguration</code></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl edit TkgServiceConfiguration</span><br></pre></td></tr></table></figure><p>æ‰¾ä¸åˆ°çš„è©±å°±è¡¨ç¤ºä½ é€²éŒ¯ context å›‰ï¼è¦å»SC~</p><h4 id="3-é€²ç·¨è¼¯æ¨¡å¼å¾Œï¼ŒåŠ å…¥æ†‘è­‰"><a href="#3-é€²ç·¨è¼¯æ¨¡å¼å¾Œï¼ŒåŠ å…¥æ†‘è­‰" class="headerlink" title="3. é€²ç·¨è¼¯æ¨¡å¼å¾Œï¼ŒåŠ å…¥æ†‘è­‰"></a>3. é€²ç·¨è¼¯æ¨¡å¼å¾Œï¼ŒåŠ å…¥æ†‘è­‰</h4><p>åŸæœ¬çš„æ¨¡æ¨£ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">run.tanzu.vmware.com/v1alpha1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">TkgServiceConfiguration</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">annotations:</span></span><br><span class="line">    <span class="attr">kubectl.kubernetes.io/last-applied-configuration:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      &#123;&quot;apiVersion&quot;:&quot;run.tanzu.vmware.com/v1alpha1&quot;,&quot;kind&quot;:&quot;TkgServiceConfiguration&quot;,&quot;metadata&quot;:&#123;&quot;annotations&quot;:&#123;&#125;,&quot;name&quot;:&quot;tkg-service-configuration&quot;&#125;,&quot;spec&quot;:&#123;&quot;defaultCNI&quot;:&quot;antrea&quot;&#125;&#125;</span></span><br><span class="line"><span class="string"></span>  <span class="attr">creationTimestamp:</span> <span class="string">&quot;2021-07-01T16:30:35Z&quot;</span></span><br><span class="line">  <span class="attr">generation:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">tkg-service-configuration</span></span><br><span class="line">  <span class="attr">resourceVersion:</span> <span class="string">&quot;2948&quot;</span></span><br><span class="line">  <span class="attr">selfLink:</span> <span class="string">/apis/run.tanzu.vmware.com/v1alpha1/tkgserviceconfigurations/tkg-service-configuration</span></span><br><span class="line">  <span class="attr">uid:</span> <span class="string">f01e03b4-6c6b-4e76-9c82-a2cf4d5f2b05</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">defaultCNI:</span> <span class="string">antrea</span></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/I9WwqZL.png"></p><p>æ–°å¢æ†‘è­‰å¾Œçš„æ¨¡æ¨£ï¼ˆ15~18è¡Œï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">run.tanzu.vmware.com/v1alpha1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">TkgServiceConfiguration</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">annotations:</span></span><br><span class="line">    <span class="attr">kubectl.kubernetes.io/last-applied-configuration:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      &#123;&quot;apiVersion&quot;:&quot;run.tanzu.vmware.com/v1alpha1&quot;,&quot;kind&quot;:&quot;TkgServiceConfiguration&quot;,&quot;metadata&quot;:&#123;&quot;annotations&quot;:&#123;&#125;,&quot;name&quot;:&quot;tkg-service-configuration&quot;&#125;,&quot;spec&quot;:&#123;&quot;defaultCNI&quot;:&quot;antrea&quot;&#125;&#125;</span></span><br><span class="line"><span class="string"></span>  <span class="attr">creationTimestamp:</span> <span class="string">&quot;2021-07-01T16:30:35Z&quot;</span></span><br><span class="line">  <span class="attr">generation:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">tkg-service-configuration</span></span><br><span class="line">  <span class="attr">resourceVersion:</span> <span class="string">&quot;2948&quot;</span></span><br><span class="line">  <span class="attr">selfLink:</span> <span class="string">/apis/run.tanzu.vmware.com/v1alpha1/tkgserviceconfigurations/tkg-service-configuration</span></span><br><span class="line">  <span class="attr">uid:</span> <span class="string">f01e03b4-6c6b-4e76-9c82-a2cf4d5f2b05</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">defaultCNI:</span> <span class="string">antrea</span></span><br><span class="line">  <span class="attr">trust:</span></span><br><span class="line">    <span class="attr">additionalTrustedCAs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">harbor</span></span><br><span class="line">        <span class="attr">data:</span> <span class="string">è²¼ä¸ŠåŠ å¯†æ†‘è­‰</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/Qb8TrXd.jpg"></p><h4 id="4-çµæŸå•¦ï¼é©—è­‰æˆåŠŸèˆ‡å¦"><a href="#4-çµæŸå•¦ï¼é©—è­‰æˆåŠŸèˆ‡å¦" class="headerlink" title="4. çµæŸå•¦ï¼é©—è­‰æˆåŠŸèˆ‡å¦"></a>4. çµæŸå•¦ï¼é©—è­‰æˆåŠŸèˆ‡å¦</h4><p>ç­‰å¾…ä»–æ›´æ–°å¾Œï¼Œç”¨ <a href="/20210713-%E6%9C%80%E9%80%9F%E7%99%BB%E5%85%A5Tanzu-guest-cluster-node-%E6%96%B9%E6%B3%95-%E9%80%B2%E5%8E%BB-TKC-%E7%AF%80%E9%BB%9E/">SSHå»çœ‹æ—¢æœ‰çš„ tkc </a> é‚£å¹¾å°<code>/etc/ssl/certs/</code> ç›®éŒ„ä¸‹é¢æœ‰æ²’æœ‰ã€Œ<code>tkg-harbor.pem</code> ã€ã€‚<br>æˆ–æ˜¯ç™»å…¥ä½ çš„ harbor ï¼Œç›´æ¥éƒ¨ç½²ä½ æœ‰çš„ image çœ‹çœ‹æœ‰æ²’æœ‰æˆåŠŸéƒ¨ç½²ï¼š<br><img src="https://i.imgur.com/5d4jQAs.png"></p><p>ï½¡:.ï¾Ÿãƒ½(*Â´âˆ€`)ï¾‰ï¾Ÿ.:ï½¡</p><p>ç•¶ç„¶åŒæ¨£çš„ä¹Ÿå¯ä»¥ç”¨é€™ç¨®æ–¹å¼å¡å…§åµŒå¼Harborã€‚<br>ä»¥ä¸Šå°±æ˜¯è®“æ•´åº§ vSphere with Tanzu éƒ½é€£åˆ°ç§å€‰çš„æ–¹å¼å•¦ï¼</p><p>æƒ³çœ‹å½±ç‰‡æ“ä½œçš„å¯ä»¥åƒè€ƒ Kendrick å“¥çš„ç¤ºç¯„ï¼š  <a href="https://www.youtube.com/watch?v=sqC9bP8gwQ0">Set Up a Harbor Registry with Self-Signed Certificates for Tanzu Kubernetes Clusters</a></p><hr><h3 id="å¸¸è¦‹-troubleshooting"><a href="#å¸¸è¦‹-troubleshooting" class="headerlink" title="/ å¸¸è¦‹ troubleshooting /"></a>/ å¸¸è¦‹ troubleshooting /</h3><h4 id="ï¼æŸ¥çœ‹-pod-status"><a href="#ï¼æŸ¥çœ‹-pod-status" class="headerlink" title="ï¼æŸ¥çœ‹ pod status"></a>ï¼æŸ¥çœ‹ pod status</h4><p>åˆ†äº«ä¸€å€‹ç°¡å–®çš„é™¤éŒ¯æ–¹å¼ï¼Œéƒ¨ç½²å¾Œç”¨ <code>kubectl get pod</code> ä¾†é€²è¡Œæª¢æŸ¥ï¼š</p><h5 id="1-è‹¥-Status-ç‚º-ErrImagePull"><a href="#1-è‹¥-Status-ç‚º-ErrImagePull" class="headerlink" title="1. è‹¥ Status ç‚º ErrImagePull"></a>1. è‹¥ Status ç‚º ErrImagePull</h5><p>ä½µç™¼ç—‡ç‹€æ˜¯â€ x509: certificate signed by unknown authority â€œï¼Œé€™å°±è¡¨ç¤ºä½ æ†‘è­‰æ”¾éŒ¯æˆ–æ˜¯æ²’æœ‰æ”¾é€²å»ï¼Œé€šå¸¸éƒ½æ˜¯å¿˜è¨˜ base64 åŠ è§£å¯†é€ æˆçš„ï¼Œé‡æ–°å¡åœ¨ <code>TkgServiceConfiguration</code> ç„¶å¾Œç­‰å¾…rolling updateå°±å¥½ã€‚</p><h5 id="2-è‹¥-Status-ç‚º-ImagePullBackOff"><a href="#2-è‹¥-Status-ç‚º-ImagePullBackOff" class="headerlink" title="2. è‹¥ Status ç‚º ImagePullBackOff"></a>2. è‹¥ Status ç‚º ImagePullBackOff</h5><p>é€™åŸºæœ¬ä¸Šå°±æ˜¯è¡¨ç¤ºé€£å¾—åˆ°ï¼Œæ†‘è­‰ä¹Ÿæ²’éŒ¯ï¼Œä½† authorization å‡ºéŒ¯ã€‚<br>é‡åˆ°é€™ç¨® error å°±æ˜¯æª¢æŸ¥ secret æœ‰æ²’æœ‰å¡éŒ¯ï¼Œæˆ–æ˜¯æ³¨æ„ docker login è¦å‡ºç¾ login success ï¼Œä»¥åŠåƒæ˜¯ç”¨ docker Desktop UI æœ‰æ²’æ‰“éŒ¯å¸³è™Ÿå¯†ç¢¼ã€‚</p><p>é€™éƒ¨åˆ†æ„Ÿè¬ Cormac Hogan å¤§å¤§åˆ†äº«ï¼Œæº«é¦¨ç„¡æ¯” ( Â´â€¢Ì¥Ì¥Ì¥Ï‰â€¢Ì¥Ì¥Ì¥` )</p><h4 id="ï¼å‡ç´š-vSphere-7U2-å‰ä½œæ³•-éproductionä½œæ³•"><a href="#ï¼å‡ç´š-vSphere-7U2-å‰ä½œæ³•-éproductionä½œæ³•" class="headerlink" title="ï¼å‡ç´š vSphere 7U2 å‰ä½œæ³• *éproductionä½œæ³•"></a>ï¼å‡ç´š vSphere 7U2 å‰ä½œæ³• *éproductionä½œæ³•</h4><p>é‚„æ²’å‡ç´šè‡³ vSphere 7U2 ä¹‹å‰çš„ç’°å¢ƒï¼Œå¯ä»¥åƒè€ƒ Cormac çš„æ–‡ç« å¡æ†‘è­‰ï¼š  <a href="https://cormachogan.com/2020/06/23/integrating-embedded-vsphere-with-kubernetes-harbor-registry-with-tkg-guest-clusters/">Integrating embedded vSphere with Kubernetes Harbor Registry with TKG (guest) clusters</a><br>ï¼ˆï¼ŠTKG guest cluster = vSphere with Tanzuâ€™s TKCï¼‰</p><p>ä¸éåªæœ‰ç”¨æœ¬æ–‡çš„ TkgServiceConfiguration è‡ªå‹•åŒ–æ–¹å¼æ‰èƒ½é–‹ support ticket é™¤éŒ¯ï¼Œæ‰€ä»¥ä¸å»ºè­°åœ¨ç”Ÿç”¢ç’°å¢ƒä½¿ç”¨!!<br>ï¼ˆä¸Šè¿°ç‚ºæœ¬æ–‡æ™‚é–“é»ç‹€æ…‹ï¼Œä»¥å®˜ç¶²è¨­ç½®æ‰‹å†Šç‚ºæº–ï¼‰<br>å®˜ç¶²æ–‡æª”ï¼š <a href="https://docs.vmware.com/en/VMware-vSphere/7.0/vmware-vsphere-with-tanzu/GUID-376FCCD1-7743-4202-ACCA-56F214B6892F.html">Using Container Registry with Tanzu Kubernetes Clusters</a></p><hr><p>æ¥è‘—å¯èƒ½æœƒé‡åˆ°çš„å»¶ä¼¸å•é¡Œï¼šæˆ‘å¸éœ€è¦å€‹åˆ¥çµ„ç¹”æœ‰å…¶å°ˆå±¬çš„ Harbor ï¼Œä¾‹å¦‚åªèƒ½çµ¦æŸå€‹R&amp;D team é€£ä¸Šå–®ç¨çš„ç§å€‰çš„è©±æ€éº¼è¾¦ï¼Ÿå¯ä»¥åƒè€ƒæˆ‘å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼š<br><a href="https://hackmd.io/rUYyBYuKT6WRGc76gUtzUw">Tanzu k8s cluster å€‹åˆ¥ä½¿ç”¨å¤šå€‹ Harbor æ–¹å¼</a></p><p>è‡³æ–¼è‡ªå·±çš„çµ„ç¹”åˆ°åº•é©åˆç”¨ embedded or external Harbor å‘¢ï¼Ÿ it depends. æœ‰é ç®—çš„è©±æ¨è–¦ç›´æ¥æ¥æ´½ <a href="https://www.vmware.com/tw/professional-services.html">å°ˆæ¥­æœå‹™åœ˜éšŠ</a> ï¼Œå¾ç’°å¢ƒå¥åº·æª¢æŸ¥åˆ°çµ„ç¹”éœ€æ±‚è¨ªè«‡ã€å¾ infra åˆ° ap åŠæ–‡åŒ–å’Œä½¿ç”¨ç¿’æ…£ï¼Œç”±æ¶æ§‹å¸«å¹«å…¬å¸è¨­è¨ˆæœ€ç¬¦åˆä¼æ¥­çš„æ¨¡å¼æ˜¯æœ€ç†æƒ³çš„ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;vSphere-with-Tanzu-ä½¿ç”¨-embedded-or-external-Harbor-æ–¹å¼&quot;&gt;&lt;a href=&quot;#vSphere-with-Tanzu-ä½¿ç”¨-embedded-or-external-Harbor-æ–¹å¼&quot; class=&quot;headerl</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="é‚£æ ¹æ¨¹æ Tanzu" scheme="https://sapphirelin.com/categories/work-hack/%E9%82%A3%E6%A0%B9%E6%A8%B9%E6%9E%9D-Tanzu/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="Tanzu" scheme="https://sapphirelin.com/tags/Tanzu/"/>
    
    <category term="harbor" scheme="https://sapphirelin.com/tags/harbor/"/>
    
    <category term="repository" scheme="https://sapphirelin.com/tags/repository/"/>
    
    <category term="cert" scheme="https://sapphirelin.com/tags/cert/"/>
    
    <category term="vSphere with Tanzu" scheme="https://sapphirelin.com/tags/vSphere-with-Tanzu/"/>
    
  </entry>
  
  <entry>
    <title>æœ€é€Ÿç™»å…¥Tanzu guest cluster node æ–¹æ³• | é€²å» TKC ç¯€é»</title>
    <link href="https://sapphirelin.com/20210713-%E6%9C%80%E9%80%9F%E7%99%BB%E5%85%A5Tanzu-guest-cluster-node-%E6%96%B9%E6%B3%95-%E9%80%B2%E5%8E%BB-TKC-%E7%AF%80%E9%BB%9E/"/>
    <id>https://sapphirelin.com/20210713-%E6%9C%80%E9%80%9F%E7%99%BB%E5%85%A5Tanzu-guest-cluster-node-%E6%96%B9%E6%B3%95-%E9%80%B2%E5%8E%BB-TKC-%E7%AF%80%E9%BB%9E/</id>
    <published>2021-07-12T16:00:00.000Z</published>
    <updated>2022-02-22T13:12:30.624Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å…ˆä¾†é»é–‹èƒƒèœï¼Œåè©è§£é‡‹ï¼š"><a href="#å…ˆä¾†é»é–‹èƒƒèœï¼Œåè©è§£é‡‹ï¼š" class="headerlink" title="å…ˆä¾†é»é–‹èƒƒèœï¼Œåè©è§£é‡‹ï¼š"></a>å…ˆä¾†é»é–‹èƒƒèœï¼Œåè©è§£é‡‹ï¼š</h4><blockquote><h5 id="vSphere-with-Tanzu-aka-Tanzu-Kubernetes-Grid-Service-aka-TKGS"><a href="#vSphere-with-Tanzu-aka-Tanzu-Kubernetes-Grid-Service-aka-TKGS" class="headerlink" title="vSphere-with-Tanzu aka Tanzu-Kubernetes-Grid-Service aka TKGS"></a>vSphere-with-Tanzu aka Tanzu-Kubernetes-Grid-Service aka TKGS</h5><h5 id="TKG-cluster-aka-Guest-cluster-aka-Tanzu-Kubernetes-Cluster-aka-TKC"><a href="#TKG-cluster-aka-Guest-cluster-aka-Tanzu-Kubernetes-Cluster-aka-TKC" class="headerlink" title="TKG-cluster aka Guest-cluster aka Tanzu-Kubernetes-Cluster aka TKC"></a>TKG-cluster aka Guest-cluster aka Tanzu-Kubernetes-Cluster aka TKC</h5><h5 id="æœ¬ç¯‡æ˜¯-TKGSâ€™s-TKC-é‚£å¹¾å°-VM-çš„é€²å…¥æ–¹æ³•"><a href="#æœ¬ç¯‡æ˜¯-TKGSâ€™s-TKC-é‚£å¹¾å°-VM-çš„é€²å…¥æ–¹æ³•" class="headerlink" title="æœ¬ç¯‡æ˜¯ TKGSâ€™s TKC é‚£å¹¾å° VM çš„é€²å…¥æ–¹æ³•"></a>æœ¬ç¯‡æ˜¯ TKGSâ€™s TKC é‚£å¹¾å° VM çš„é€²å…¥æ–¹æ³•</h5></blockquote><p>æœ€è¿‘æœ‰çš„POC æ¡ˆå­åœ¨å¸¶ partner çš„æ™‚å€™æ‰ç™¼ç¾ï¼ŒåŸä¾†å®˜ç¶²æ–‡ä»¶å¯«çš„è½è½é•·ï¼š<br><a href="https://docs.vmware.com/tw/VMware-vSphere/7.0/vmware-vsphere-with-tanzu/GUID-37DC1DF2-119B-4E9E-8CA6-C194F39DDEDA.html">SSH to Tanzu Kubernetes Cluster Nodes as the System User Using a Password</a></p><p>ç¾åœ¨çš„æ™‚ä»£è¬›æ±‚æ•ˆç‡ï¼ è¿½æ±‚ agileï¼<br>ä»¥ä¸‹ç„¡ç§åˆ†äº«æˆ‘çš„æ‡¶äººç­†è¨˜ï¼Œè®“æ–°æ‰‹ä¹Ÿèƒ½é§•é¦­ï¼Œç°¡å–®ç™»é€²å» k8s ç¯€é»ï¼š</p><h3 id="1-ç™»å…¥Supervisor-Cluster"><a href="#1-ç™»å…¥Supervisor-Cluster" class="headerlink" title="1. ç™»å…¥Supervisor Cluster"></a>1. ç™»å…¥Supervisor Cluster</h3><p>server &amp; username è¨˜å¾—æ”¹æˆè‡ªå·±çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl-vsphere login --vsphere-username administrator@vsphere.local --server=172.18.31.1 --insecure-skip-tls-verify</span><br></pre></td></tr></table></figure><p>ç™»å…¥é€²å» SC å¾Œæˆ‘å€‘å°±è·Ÿgcç›¸è¯ç¹«äº†ï½</p><h3 id="2-åˆ‡æ›åˆ°ä½ çš„-Cluster"><a href="#2-åˆ‡æ›åˆ°ä½ çš„-Cluster" class="headerlink" title="2. åˆ‡æ›åˆ°ä½ çš„ Cluster"></a>2. åˆ‡æ›åˆ°ä½ çš„ Cluster</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl config use-context CLUSTER-NAME</span><br></pre></td></tr></table></figure><h3 id="3-å–å¾—ç³»çµ±ç®¡ç†å“¡å¯†ç¢¼"><a href="#3-å–å¾—ç³»çµ±ç®¡ç†å“¡å¯†ç¢¼" class="headerlink" title="3. å–å¾—ç³»çµ±ç®¡ç†å“¡å¯†ç¢¼"></a>3. å–å¾—ç³»çµ±ç®¡ç†å“¡å¯†ç¢¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get secret CLUSTER-NAME-ssh-password -o jsonpath=&#x27;&#123;.data.ssh-passwordkey&#125;&#x27;) | base64 -d; echo</span><br></pre></td></tr></table></figure><p>æŠŠé€™å€‹å¯†ç¢¼å­˜èµ·ä¾†å°±å¥½å›‰ï¼</p><h3 id="4-ssh-ç™»å…¥"><a href="#4-ssh-ç™»å…¥" class="headerlink" title="4. ssh ç™»å…¥"></a>4. ssh ç™»å…¥</h3><p>ip çš„è©±æˆ‘éƒ½æ˜¯ç›´æ¥å¾vCenter ä»‹é¢ä¸Šçœ‹æ˜¯å¤šå°‘ï¼š<br><img src="https://i.imgur.com/Z6ioXQS.png"></p><p>æ¥è‘—ç”¨<code>vmware-system-user</code> ä¾† ssh é€²å»ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh vmware-system-user@172.18.31.29</span><br></pre></td></tr></table></figure><p>Password å°±è²¼ä¸Š step 3 å¯†ç¢¼</p><hr><h3 id="demo"><a href="#demo" class="headerlink" title="/ demo /"></a>/ demo /</h3><p>æˆ‘çš„ CLUSTER-NAME=tkc-1</p><p><img src="https://i.imgur.com/uyob9gA.png"></p><p>é †åˆ©é€²å»å•¦ï½</p><p>è‡³æ–¼ä½ å•æˆ‘åœ¨é€™å®‰è£é˜²æ¯’è»Ÿé«”ï¼Ÿæ²’æœ‰äººåœ¨ CRX ä¸Šè£çš„å•¦ï¼Œå°±åƒ Data Center node é‡é»æ˜¯ä¸Š patch ä¿æŒé˜²è­·åŠ›ï¼Œé˜²æ¯’æ˜¯è£åœ¨ VM è£¡é ­ã€‚åœ¨ container çš„ä¸–ç•Œå°é‚£äº› image å»æƒæ‰æ˜¯æ­£è§£ï¼Œè«‹æœå°‹ ClamAV ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;å…ˆä¾†é»é–‹èƒƒèœï¼Œåè©è§£é‡‹ï¼š&quot;&gt;&lt;a href=&quot;#å…ˆä¾†é»é–‹èƒƒèœï¼Œåè©è§£é‡‹ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å…ˆä¾†é»é–‹èƒƒèœï¼Œåè©è§£é‡‹ï¼š&quot;&gt;&lt;/a&gt;å…ˆä¾†é»é–‹èƒƒèœï¼Œåè©è§£é‡‹ï¼š&lt;/h4&gt;&lt;blockquote&gt;
&lt;h5 id=&quot;vSphere-with</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="é‚£æ ¹æ¨¹æ Tanzu" scheme="https://sapphirelin.com/categories/work-hack/%E9%82%A3%E6%A0%B9%E6%A8%B9%E6%9E%9D-Tanzu/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="work hack" scheme="https://sapphirelin.com/tags/work-hack/"/>
    
    <category term="Tanzu" scheme="https://sapphirelin.com/tags/Tanzu/"/>
    
    <category term="ssh" scheme="https://sapphirelin.com/tags/ssh/"/>
    
    <category term="password" scheme="https://sapphirelin.com/tags/password/"/>
    
  </entry>
  
  <entry>
    <title>VMware SSO Solutions: å¯¦ä½œå®¢è£½åŒ–å–®ä¸€ç™»å…¥ VDI</title>
    <link href="https://sapphirelin.com/20210630-VMware-SSO-Solutions-%E5%AF%A6%E4%BD%9C%E5%AE%A2%E8%A3%BD%E5%8C%96%E5%96%AE%E4%B8%80%E7%99%BB%E5%85%A5-VDI/"/>
    <id>https://sapphirelin.com/20210630-VMware-SSO-Solutions-%E5%AF%A6%E4%BD%9C%E5%AE%A2%E8%A3%BD%E5%8C%96%E5%96%AE%E4%B8%80%E7%99%BB%E5%85%A5-VDI/</id>
    <published>2021-06-29T16:00:00.000Z</published>
    <updated>2022-02-22T15:34:52.660Z</updated>
    
    <content type="html"><![CDATA[<p>éš¨è‘—é‡è¦–è³‡å®‰çš„è¶¨å‹¢ï¼Œè¶Šä¾†è¶Šå¤šå®¢æˆ¶æ¥å—ä½¿ç”¨ VMware çš„ VDI åŠ UEM è§£æ±ºæ–¹æ¡ˆã€‚é€™æ™‚å€™æ•´åˆä¼æ¥­åŸå…ˆæ—¢æœ‰çš„ç™»å…¥æ–¹å¼ï¼ˆæˆ–ç¿’æ…£ï¼‰å°±èƒ½è®“ä¼æ¥­å“¡å·¥æœ‰æ›´å¥½çš„ä½¿ç”¨é«”é©—ï¼ŒITç®¡ç†äººå“¡ä¹Ÿèƒ½æ¸›å°‘è¢«å•å•é¡Œçš„éº»ç…©ï¼Œå°ˆå¿ƒæŠ•å…¥ç”Ÿç”¢åŠ›ç›®æ¨™ï¼Œä¸²æ¥ä¸€æ¬¡ï¼Œé©ç”¨ä¸€ç”Ÿã€‚</p><p>åŠ ä¸Šç¾åœ¨ä½¿ç”¨çš„è»Ÿé«”è·Ÿç³»çµ±çœŸçš„æ˜¯è¶Šä¾†è¶Šå¤šï¼Œå¯†ç¢¼å¯èƒ½æœ‰ä¸Šç™¾çµ„ï¼Œå¦‚æœèƒ½å¤ åªç”¨ä¸€å€‹æ–¹å¼ã€ä¸€çµ„å¸³è™Ÿå¯†ç¢¼ï¼Œåˆå®‰å…¨åˆç°¡å–®çš„ç™»å…¥ï¼Œå°å€‹äººã€å°ä¼æ¥­çµ•å°å¤§æ­¡è¿ã€‚æ‰€ä»¥é™¤äº†å¤§è¦æ¨¡æ‡‰ç”¨çš„OTPç°¡è¨Šèªè­‰ï¼Œç¾åœ¨ä¹Ÿé–‹å§‹æµè¡Œ Passwordless çš„2FAã€MFAã€Biometricã€FIDO ç­‰ç­‰çš„ Single-Sign-on è§£æ±ºæ–¹å¼ã€‚</p><p>è€Œç¾åœ¨æœ€å¸¸é‹ç”¨åˆ° SSO èº«ä»½è­˜åˆ¥è·Ÿæˆæ¬Šçš„å‚³è¼¸å”å®šå°±æ˜¯â€”â€” SAML ï¼<br>SAML æ˜¯åŸºæ–¼ xml çš„é–‹æºæ¨™æº–ä¾†é€²è¡Œèº«ä»½é©—è­‰è·Ÿæˆæ¬Šçš„å‚³è¼¸å”å®šï¼Œæœ‰ä¸‰ç¨®è§’è‰²ï¼š</p><ol><li>idp: èº«ä»½é©—è­‰å•† Identity Provider</li><li>principal: ä¹Ÿå°±æ˜¯æˆ‘å€‘çš„ä½¿ç”¨è€… User</li><li>sp: æœå‹™æä¾›å•† Service Provider</li></ol><p>ç°¡å–®ä¾†èªªå°±æ˜¯ idp &amp; sp æœƒé€éé€é SAML æ ¼å¼ä¾†äº¤æ›åŒ…å«æ†‘è­‰çš„åƒæ•¸ï¼Œäº’ç›¸èªè­˜å°æ–¹ï¼Œä¹Ÿèªå®šå°æ–¹ï¼ŒUser å°±èƒ½äº«å—åˆ° SSO å¥½è™•ã€‚ä¸Šè¿°æåˆ°çš„å„ç¨® MFA, FIDO åœ‹éš›å”å®šä¹Ÿç¶“å¸¸é‹ç”¨ SAML ï¼ŒVMware ç¾åœ¨ç”¢å“èˆ‡ç”¢å“é–“çš„èº«ä»½èªè­‰ï¼Œä¹Ÿéƒ½æ˜¯ç”¨ SAML ä¾†é€²è¡Œå‚³è¼¸ã€‚è€Œ EUC ç³»åˆ—ç”¢å“ Horizon(VDI) èˆ‡ Workspace ONE ç­‰ï¼Œä¹Ÿéƒ½å…è¨±è‡ªè¡Œåˆ©ç”¨ SAML ä¸²æ¥ï¼Œä¸¦ä¸”å¯ä»¥åŒæ™‚æ“”ç¶± idp æˆ– sp çš„è§’è‰²ã€‚</p><p>æœ€è¿‘é‡åˆ°å¾ˆå¤šå®¢æˆ¶ç‹€æ³æ˜¯ï¼Œä»–å€‘å¯èƒ½åŸæœ¬å°±æœ‰æ—¢æœ‰çš„èº«ä»½èªè­‰ç³»çµ±ï¼ˆåƒæ˜¯Okta, Azure MFA, ISVâ€™s OTPï¼‰ï¼Œæƒ³ç›´æ¥ç”¨åœ¨å–®ä¸€ç™»å…¥VMware çµ‚ç«¯è¨­å‚™å ´æ™¯ï¼Œä¾‹å¦‚ç›´æ¥ç™»å…¥å¾Œçµ¦æˆ‘æŒ‡å®šè™›æ“¬æ¡Œé¢ã€æˆ–æ˜¯ç™»å…¥å¾Œå…è¨±æˆ‘é€²å—åˆ°VPN æ§ç®¡çš„ Tunnel appsç­‰ã€‚</p><p>æœ¬æ–‡å°‡ä¾ä¸Šè¿°æƒ…å¢ƒæ‡‰ç”¨ SAML ï¼Œå¯¦ä½œ SSO ä¸²æ¥ï¼š</p><hr><h2 id="ç’°å¢ƒæº–å‚™"><a href="#ç’°å¢ƒæº–å‚™" class="headerlink" title="/ ç’°å¢ƒæº–å‚™ /"></a>/ ç’°å¢ƒæº–å‚™ /</h2><p>åƒ…éœ€å…©æ¨£ï¼š</p><ol><li>ä¸€å° WS1 Access è·Ÿ administrator å¸³è™Ÿ (SaaS/On-preméƒ½è¡Œ)</li><li>ä¸€å€‹æœ‰ Java 1.6+ è·Ÿ Maven ç’°å¢ƒ </li></ol><p>VMware ç”¨æ–¼å®¢è£½åŒ– SSO è§£æ±ºæ–¹æ¡ˆçš„å…ƒä»¶ç‚º Workspace ONE Access (WS1 Access)ï¼Œå‰èº«å«åšvIDM (VMware Identity Manager)ã€‚æ­¤å…ƒä»¶åœ¨è¨±å¤šç”¢å“éƒ½æœ‰é™„è´ˆï¼Œé‡éå¾ˆå¤šæƒ…æ³éƒ½åªæ˜¯ç•¶åˆå°å…¥æ™‚æ²’æœ‰é †ä¾¿è£èµ·ä¾†è€Œå·²ã€‚å®‰è£è³‡æºçš„è¦æ±‚ä¹Ÿè¶…ç´šè¼•ï¼Œè©³ç´°å¯åƒè€ƒï¼š <a href="https://docs.vmware.com/tw/VMware-Workspace-ONE-Access/20.10/workspace_one_access_install/GUID-E81B6B1B-A3D1-40D0-806A-3D31502C53A5.html">å®˜æ–¹æ–‡ä»¶</a><br>åœ¨é€™å€‹ä¾‹å­ä¸‹ WS1 Access çš„è§’è‰²æ˜¯ spã€‚</p><p>ç°¡æ˜“çš„ç¯„ä¾‹ç¨‹å¼ç¢¼æ˜¯ä»¥ java å¯«çš„ï¼Œå¤§å®¶å¯ä»¥å» <a href="https://github.com/vmware/vidm-saml-toolkit/tree/master/Sample_AuthServer">é€™é‚Š</a> æ‹¿ä¾†ç©ã€‚</p><p>ç´€éŒ„ä¸€ä¸‹é€™æ¬¡çš„ç’°å¢ƒï¼š openjdk 11.0.11 / Apache Maven 3.6.0</p><h2 id="è¨­å®š-Workspace-ONE-Access"><a href="#è¨­å®š-Workspace-ONE-Access" class="headerlink" title="/ è¨­å®š Workspace ONE Access /"></a>/ è¨­å®š Workspace ONE Access /</h2><h3 id="Step-1ï¼šé€²å…¥å¾Œå°"><a href="#Step-1ï¼šé€²å…¥å¾Œå°" class="headerlink" title="Step 1ï¼šé€²å…¥å¾Œå°"></a>Step 1ï¼šé€²å…¥å¾Œå°</h3><p>é¦–å…ˆå°±æ˜¯ç™»å…¥åˆ° WS1 Access çš„ç®¡ç†å¾Œå°ï¼Œç…§é †åºé¸ â€œIdentity Managerâ€ â€“&gt; â€œIdentity Providersâ€ â€“&gt; â€œAdd Identity Providerâ€ â€“&gt; â€œCreate Third Party IDPâ€.<br><img src="https://i.imgur.com/EX8lYFY.png" alt="Pic 1: VMware workspace one sso"><br>ï¼ˆé€™é‚Šæ˜¯ 20.10 ç‰ˆæœ¬çš„ç•«é¢ï¼Œä¸åŒç‰ˆæœ¬åªæœƒæœ‰æŒ‰éˆ•çš„äº›è¨±å·®ç•°è€Œå·²ï¼ŒåŠŸèƒ½éƒ½æœ‰çš„ï¼‰</p><h3 id="Step-2ï¼šæ–°å¢IdP"><a href="#Step-2ï¼šæ–°å¢IdP" class="headerlink" title="Step 2ï¼šæ–°å¢IdP"></a>Step 2ï¼šæ–°å¢IdP</h3><h4 id="2-1"><a href="#2-1" class="headerlink" title="2-1"></a>2-1</h4><p>å…ˆå¹«é€™å€‹idp å–åå­—ï¼Œå¦‚æœä½ ä¸²ç¬¬ä¸‰æ–¹ç”¢å“å°±å¯ä»¥å¯«é‚£å€‹ç”¢å“çš„åç¨±ï¼š<br><img src="https://i.imgur.com/Wp35bqL.png"></p><h4 id="2-2"><a href="#2-2" class="headerlink" title="2-2"></a>2-2</h4><p>è²¼ä¸Šidp éƒ½æä¾›é€²è¡Œäº¤æ›çš„SAML metadataï¼Œç¬¬ä¸‰æ–¹ç”¢å“éƒ½æœƒå¯«å¥½ç›¸é—œçš„xmlï¼Œè‡ªè¡Œé–‹ç™¼çš„å¯ä»¥åƒè€ƒä¸‹ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼Œæ”¾åœ¨ webapp è³‡æ–™å¤¾ä¸‹çš„ idp.xmlï¼š<br><img src="https://i.imgur.com/1uogCtF.png"></p><h4 id="2-3"><a href="#2-3" class="headerlink" title="2-3"></a>2-3</h4><p>å…¨éƒ¨è²¼ä¸Šå»å¾ŒæŒ‰ä¸‹â€Process IdP Metadataâ€ï¼Œä¸‹é¢å°±æœƒç›´æ¥å¸¶å‡ºå°æ‡‰çš„åƒæ•¸äº†ï¼Œç°¡å–®æ–¹ä¾¿ã€‚é€™æ¬¡çš„ç™»å…¥ä»‹é¢ç°¡å–®çš„åˆ©ç”¨WS1 Access å…§å»ºçš„userName / Password ä¾†ç”¨ï¼Œä¸‹é¢éƒ½å…ˆä¸èª¿æ•´ã€‚<br><img src="https://i.imgur.com/DOhimWU.png"></p><h4 id="2-4"><a href="#2-4" class="headerlink" title="2-4"></a>2-4</h4><p>é‡å°è¦æˆæ¬Šä½¿ç”¨é€™å€‹IdPçš„ç¶²è·¯ï¼Œæˆ‘ç’°å¢ƒåªæœ‰ALLï¼Œå‹¾èµ·ä¾†ã€‚<br>ä¸‹é¢çš„è©±å‘½åAuth Methods ç‚ºmyAuthï¼Œæ†‘è­‰éƒ¨åˆ†æ­¤code ä½¿ç”¨çš„æ˜¯X509ï¼Œé¸èµ·ä¾†æŒ‰æ–°å¢ã€‚<br><img src="https://i.imgur.com/WSXnmBl.png"></p><h4 id="2-5"><a href="#2-5" class="headerlink" title="2-5"></a>2-5</h4><p>é€™é çš„æœ€å¾Œä¸€æ­¥ï¼Œé€™é‚Šå°±æ˜¯ WS1 ç”¢å‡ºçš„ SP Metadata ï¼Œç”¨ä¾†çµ¦ idp é€²è¡Œäº¤æ›ï¼Œæ‹¿åˆ°é€™å€‹ xml çš„é€£çµå¾Œï¼ŒæŒ‰â€Addâ€ å®Œæˆå»ºç«‹IdPã€‚<br><img src="https://i.imgur.com/HTrzAHY.png"></p><h3 id="Step-3ï¼šè¨­å®š-Policiy"><a href="#Step-3ï¼šè¨­å®š-Policiy" class="headerlink" title="Step 3ï¼šè¨­å®š Policiy"></a>Step 3ï¼šè¨­å®š Policiy</h3><h4 id="3-1"><a href="#3-1" class="headerlink" title="3-1"></a>3-1</h4><p>æ›åˆ° â€œIdentity Managerâ€ â€“&gt;  â€œPoliciesâ€ â€“&gt; â€œEdit Default Policyâ€<br>æˆ‘çš„ç’°å¢ƒæ¯”è¼ƒç°¡å–®ï¼Œå¯¦éš›æ‡‰ç”¨çš„è©±å°±é¸æ“‡éœ€è¦åˆ©ç”¨é¡å¤–IdPç™»å…¥çš„é‚£å‰‡ Policy å°±å¥½ã€‚<br><img src="https://i.imgur.com/tGxpeAP.png"></p><blockquote><p>é€™é‚Šå¯ä»¥çœ‹åˆ° WS1 Access æœ€å¼·åŠŸèƒ½â€“ä»¥ policy based ä¾†å»è¦ç¯„èªªç”¨ä»€éº¼èªè­‰æ–¹å¼æ‰èƒ½ç™»å…¥åˆ°ä»€éº¼æ¨£çš„ç¶²æ®µã€ä½¿ç”¨ä»€éº¼æ¨£çš„æ‡‰ç”¨ç¨‹å¼ï¼Œä¾‹å¦‚ä¸€èˆ¬åˆ©ç”¨ç€è¦½å™¨èµ°FIDOå•¦ã€Win 10 çš„è©±è¦æ’ smart cardå•¦ã€ä¸å…è¨±ä½¿ç”¨ Android è¨­å‚™ç™»å…¥å•¦ï¼Œæˆ–æ˜¯é™åˆ¶åœ¨ä¸Šç­æ™‚é–“8å°æ™‚æˆ–æ˜¯å¯ä»¥ä¸€å€‹ç¦®æ‹œå±…å®¶è¾¦å…¬å¾Œæ‰ expiredç­‰ç­‰ï¼Œå°è³‡å®‰åš´è¬¹çš„å…¬å¸ä¾†èªªåªè¦åœ¨é€™å€‹ portal ä¸Šé¢è¨­å®šè¦å‰‡ï¼Œå°±èƒ½ä¾ç…§æ¥­å‹™ä¸Šçš„ä½¿ç”¨æƒ…å¢ƒä¾†å»åšç™»å…¥çš„æ§ç®¡ã€‚ä¸²æ¥ç™»å…¥ç¿’è§€è³‡æ–™åˆ°Intelligence çš„AIä¸Šé¢ï¼Œä¾ç…§æ—¢æœ‰ç¿’æ…£åµæ¸¬ä¸å®‰å…¨ç™»å…¥è¡Œç‚ºï¼Œä¹Ÿæ˜¯é è‘—é€™äº›rule ä¾†æ‹’çµ•ï¼Œä¿æŒè¬ç„¡ä¸€å¤±çš„ç™»å…¥çš„ã€‚</p></blockquote><h4 id="3-2"><a href="#3-2" class="headerlink" title="3-2"></a>3-2</h4><p>æ¥è‘—é¸æ“‡ â€œConfigurationâ€  â€“&gt; â€œADD POLICY RULEâ€<br><img src="https://i.imgur.com/NTkmY4Z.png"></p><h4 id="3-3"><a href="#3-3" class="headerlink" title="3-3"></a>3-3</h4><p>å¦‚æœæ˜¯æ—¢æœ‰è¦å‰‡åŸºæœ¬ä¸Š range &amp; device type ä¸ç”¨å‹•ï¼Œé€™é‚Šå…è¨±å…¨éƒ¨ï¼Œæ³¨æ„æœ€ä¸‹é¢çš„èªè­‰æ–¹å¼è¦é¸æˆ‘å€‘2-4æ–°å¢çš„é©—è­‰è¦å‰‡ï¼Œæ¥è‘—æŒ‰â€SAVEâ€<br><img src="https://i.imgur.com/DGalLiy.png"></p><h4 id="3-4"><a href="#3-4" class="headerlink" title="3-4"></a>3-4</h4><p>å›åˆ°Configurationå¾Œï¼Œæ³¨æ„æŠŠæˆ‘å€‘æ–°çš„é©—è­‰æ¨¡å¼æ‹‰åˆ°æœ€å‰é¢ï¼Œè®“ä»–çš„è®Šæˆç¬¬ä¸€å€‹é©—è­‰çš„æ¬Šé‡ï¼Œè¨­å®šå°±å®Œæˆå›‰ï¼ä¸²å®Œå•¦ï½ ï½¡:.ï¾Ÿãƒ½(*Â´âˆ€`)ï¾‰ï¾Ÿ.:ï½¡<br><img src="https://i.imgur.com/4SgaWYy.png"></p><h2 id="demo"><a href="#demo" class="headerlink" title="/ demo /"></a>/ demo /</h2><p>æ­¡è¿ç›´æ¥åƒè€ƒæˆ‘çš„æ‡¶äººæŒ‡ä»¤åŒ…å®Œæˆå±•ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/vmware/vidm-saml-toolkit.git</span><br><span class="line">$ cd vidm-saml-toolkit</span><br><span class="line">$ mvn clean install</span><br><span class="line">$ cd Sample_AuthServer</span><br><span class="line">$ mvn compile exec:java</span><br></pre></td></tr></table></figure><p>åŸæœ¬çš„ç™»å…¥æ–¹å¼å°±æ˜¯WS1çš„ä»‹é¢ï¼š<br><img src="https://i.imgur.com/oFokNUE.png"></p><p>ç¾åœ¨å°±å¯ä»¥å®¢è£½æˆä½ æƒ³è¦çš„ç™»å…¥æ¨¡æ¨£å•¦ï¼<br><img src="https://i.imgur.com/RqOofGK.png"></p><hr><p>ä»¥ä¸Šå°±æ˜¯æœ¬æ¬¡çš„åˆ†äº«  (<em>Ë‡Ï‰Ë‡</em>äºº)</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;éš¨è‘—é‡è¦–è³‡å®‰çš„è¶¨å‹¢ï¼Œè¶Šä¾†è¶Šå¤šå®¢æˆ¶æ¥å—ä½¿ç”¨ VMware çš„ VDI åŠ UEM è§£æ±ºæ–¹æ¡ˆã€‚é€™æ™‚å€™æ•´åˆä¼æ¥­åŸå…ˆæ—¢æœ‰çš„ç™»å…¥æ–¹å¼ï¼ˆæˆ–ç¿’æ…£ï¼‰å°±èƒ½è®“ä¼æ¥­å“¡å·¥æœ‰æ›´å¥½çš„ä½¿ç”¨é«”é©—ï¼ŒITç®¡ç†äººå“¡ä¹Ÿèƒ½æ¸›å°‘è¢«å•å•é¡Œçš„éº»ç…©ï¼Œå°ˆå¿ƒæŠ•å…¥ç”Ÿç”¢åŠ›ç›®æ¨™ï¼Œä¸²æ¥ä¸€æ¬¡ï¼Œé©ç”¨ä¸€ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;åŠ ä¸Šç¾åœ¨ä½¿ç”¨çš„è»Ÿé«”</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="å–®ä¸€ç™»å…¥ SSO" scheme="https://sapphirelin.com/categories/work-hack/%E5%96%AE%E4%B8%80%E7%99%BB%E5%85%A5-SSO/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="Workspace ONE" scheme="https://sapphirelin.com/tags/Workspace-ONE/"/>
    
    <category term="EUC" scheme="https://sapphirelin.com/tags/EUC/"/>
    
    <category term="UEM" scheme="https://sapphirelin.com/tags/UEM/"/>
    
    <category term="VDI" scheme="https://sapphirelin.com/tags/VDI/"/>
    
    <category term="SSO" scheme="https://sapphirelin.com/tags/SSO/"/>
    
  </entry>
  
  <entry>
    <title>Tanzu Technical Field Update é›²åŸç”Ÿç›¸é—œé‡é»æŠ€è¡“æ›´æ–°</title>
    <link href="https://sapphirelin.com/20210419-Tanzu-Technical-Field-Update-%E9%9B%B2%E5%8E%9F%E7%94%9F%E7%9B%B8%E9%97%9C%E9%87%8D%E9%BB%9E%E6%8A%80%E8%A1%93%E6%9B%B4%E6%96%B0/"/>
    <id>https://sapphirelin.com/20210419-Tanzu-Technical-Field-Update-%E9%9B%B2%E5%8E%9F%E7%94%9F%E7%9B%B8%E9%97%9C%E9%87%8D%E9%BB%9E%E6%8A%80%E8%A1%93%E6%9B%B4%E6%96%B0/</id>
    <published>2021-04-18T16:00:00.000Z</published>
    <updated>2022-02-22T15:38:04.448Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸Šé€±é‡é»æŠ€è¡“æ›´æ–°"><a href="#ä¸Šé€±é‡é»æŠ€è¡“æ›´æ–°" class="headerlink" title="/ ä¸Šé€±é‡é»æŠ€è¡“æ›´æ–° /"></a>/ ä¸Šé€±é‡é»æŠ€è¡“æ›´æ–° /</h3><h4 id="Kubernetes-1-21"><a href="#Kubernetes-1-21" class="headerlink" title="- Kubernetes 1.21"></a>- Kubernetes 1.21</h4><p>Kubernetes æœ€æ–°ç‰ˆæœ¬æ–¼ 4 æœˆ 8 æ—¥ç™¼ä½ˆäº†! è©³ç´°å…¨æ–‡: <a href="https://kubernetes.io/blog/2021/04/08/kubernetes-1-21-release-announcement/">https://kubernetes.io/blog/2021/04/08/kubernetes-1-21-release-announcement/</a></p><h4 id="TMC-Tanzu-Mission-Control-now-enable-TKG-installation"><a href="#TMC-Tanzu-Mission-Control-now-enable-TKG-installation" class="headerlink" title="- TMC (Tanzu Mission Control) now enable TKG installation"></a>- TMC (Tanzu Mission Control) now enable TKG installation</h4><p>ç¾åœ¨ä½¿ç”¨ TMC å®‰è£ TKG on vSphere åŠŸèƒ½å·²ç¶“æ­£å¼é–‹æ”¾çµ¦å…¨éƒ¨ç”¨æˆ¶ä½¿ç”¨! (é™vSphere 7.0 &amp; 6.7)<br>ç”¨æˆ¶å¯ä»¥ç›´æ¥ç™»å…¥æ‚¨çš„TMCç’°å¢ƒä¾†åŸ·è¡Œã€‚</p><h3 id="å¥½æ–‡åˆ†äº«"><a href="#å¥½æ–‡åˆ†äº«" class="headerlink" title="/ å¥½æ–‡åˆ†äº« /"></a>/ å¥½æ–‡åˆ†äº« /</h3><h4 id="ä½ çŸ¥é“æ“æœ‰è¶Šé«˜çš„-CPU-è¶…é¡ä¹˜è¼‰-overcommitment-èƒ½å¤ è®“TKG-Cluster-æ“æœ‰æ›´ä½³çš„ç¸½é«”æ•ˆèƒ½å—ï¼Ÿ"><a href="#ä½ çŸ¥é“æ“æœ‰è¶Šé«˜çš„-CPU-è¶…é¡ä¹˜è¼‰-overcommitment-èƒ½å¤ è®“TKG-Cluster-æ“æœ‰æ›´ä½³çš„ç¸½é«”æ•ˆèƒ½å—ï¼Ÿ" class="headerlink" title="ä½ çŸ¥é“æ“æœ‰è¶Šé«˜çš„ CPU è¶…é¡ä¹˜è¼‰ (overcommitment) èƒ½å¤ è®“TKG Cluster æ“æœ‰æ›´ä½³çš„ç¸½é«”æ•ˆèƒ½å—ï¼Ÿ"></a>ä½ çŸ¥é“æ“æœ‰è¶Šé«˜çš„ CPU è¶…é¡ä¹˜è¼‰ (overcommitment) èƒ½å¤ è®“TKG Cluster æ“æœ‰æ›´ä½³çš„ç¸½é«”æ•ˆèƒ½å—ï¼Ÿ</h4><p><img src="https://blogs.vmware.com/performance/files/2021/04/k8s-tanzu-fig2a-1536x869.png" alt="cpu overcommitment to achieve high resource utilization"></p><p>ä»Šå¹´ 3 æœˆï¼ŒVMware æ•ˆèƒ½åˆ†æåœ˜éšŠ (performance team) å‡ºäº†ä¸€ä»½æŠ€è¡“å ±å‘Šï¼Œæä¾›ç³»çµ±ç®¡ç†å“¡èˆ‡é–‹ç™¼äººå“¡æœ€ä½³åŒ–å·¥ä½œè² è¼‰æ•ˆèƒ½çš„å»ºè­°ï¼ŒåŒ…å«ï¼š</p><ul><li><input disabled="" type="checkbox"> Sizing VMware TKG clusters and selecting virtual machine classes for worker nodes</li><li><input disabled="" type="checkbox"> Configuring pod and container resource specifications</li><li><input disabled="" type="checkbox"> Choosing the right level of CPU and memory over-commitment with the least impact on workload performance</li></ul><p>å ±å‘Šè£¡é¢æŒ‡å‡ºï¼Œè¶…é¡æ‰¿è¼‰æ˜é¡¯æå‡äº†è³‡æºåˆ©ç”¨ç‡ã€‚ç•¶ç„¶ï¼Œé‚„æ˜¯è¦è¨˜å¾—å»ç›£æ§ vSphere key metrics ä¾†é¿å…çˆ­å¥ªè³‡æºå°è‡´æ•ˆèƒ½åè€Œä¸‹é™ã€‚è©³ç´°å¯ä»¥æŸ¥çœ‹æŠ€è¡“å ±å‘Šå…¨æ–‡ï¼š<a href="https://www.vmware.com/content/dam/digitalmarketing/vmware/en/pdf/techpaper/performance/vsphere-tanzu-kubernetes-perf.pdf">https://www.vmware.com/content/dam/digitalmarketing/vmware/en/pdf/techpaper/performance/vsphere-tanzu-kubernetes-perf.pdf</a></p><p>æˆ–æ˜¯é–±è®€Harold Rosenberg æ’°å¯«çš„ç²¾è¯ç‰ˆæ–‡ç« ï¼š<br><a href="https://blogs.vmware.com/performance/2021/04/performance-best-practices-for-kubernetes-with-vmware-tanzu.html?src=so_602d54e7e837c&amp;cid=7012H000001KW9I">https://blogs.vmware.com/performance/2021/04/performance-best-practices-for-kubernetes-with-vmware-tanzu.html?src=so_602d54e7e837c&amp;cid=7012H000001KW9I</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;ä¸Šé€±é‡é»æŠ€è¡“æ›´æ–°&quot;&gt;&lt;a href=&quot;#ä¸Šé€±é‡é»æŠ€è¡“æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;/ ä¸Šé€±é‡é»æŠ€è¡“æ›´æ–° /&quot;&gt;&lt;/a&gt;/ ä¸Šé€±é‡é»æŠ€è¡“æ›´æ–° /&lt;/h3&gt;&lt;h4 id=&quot;Kubernetes-1-21&quot;&gt;&lt;a href=&quot;#Kubern</summary>
      
    
    
    
    <category term="work hack" scheme="https://sapphirelin.com/categories/work-hack/"/>
    
    <category term="é‚£æ ¹æ¨¹æ Tanzu" scheme="https://sapphirelin.com/categories/work-hack/%E9%82%A3%E6%A0%B9%E6%A8%B9%E6%9E%9D-Tanzu/"/>
    
    
    <category term="VMware" scheme="https://sapphirelin.com/tags/VMware/"/>
    
    <category term="work hack" scheme="https://sapphirelin.com/tags/work-hack/"/>
    
    <category term="Tanzu" scheme="https://sapphirelin.com/tags/Tanzu/"/>
    
    <category term="tkg" scheme="https://sapphirelin.com/tags/tkg/"/>
    
    <category term="Cloud Native" scheme="https://sapphirelin.com/tags/Cloud-Native/"/>
    
    <category term="Tanzu Kubernetes Grid" scheme="https://sapphirelin.com/tags/Tanzu-Kubernetes-Grid/"/>
    
  </entry>
  
</feed>
